\chapter{Model categories}
\chapterprecistoc{\textup{by} Mauro Porta}

\begin{flushright}
Mauro Porta
\end{flushright}

\begin{refsection}

\section{Introduction}

Model categories will play a prominent role throughout these notes both at theoretical and at computational level; the purpose of these notes is therefore to provide an introduction to the techniques of model category theory. However, even though it is not really necessary to know model categories in order to read these notes, we expect that many of the readers approaching them will be already familiar with many model categorical notions. As consequence, we will focus more on the advanced topics of the theory, paying notably attention to the notions of combinatorial model category, homotopy limits and colimits, mapping spaces and Bousfield localizations. With the exception of combinatorial model categories, everything else can be already found in Hirschhorn's book \cite{hirschhorn}; we will therefore often omit theoretical proofs giving a precise reference to that book, but on the other side we will do explicitly some calculations and examples that can be hardly found through the literature.

D. Quillen introduced model categories in late sixties in his influential book \cite{quillen} and 

The reader should keep in mind two main examples: topological spaces (simplicial sets would be even better, if he has some familiarity with them) and chain complexes (over a base field).

The notion of $(\infty,1)$-category will be introduced in later chapters; however, we will use the na\"if idea in order to motivate several constructions in this expos\'e. Recall first of all that an $(\infty,1)$-category is a category with objects of every order such that each $n$-morphism is invertible whenever $n \ge 2$. In this section we will show that a model category is always endowed with a rich homotopical structure: for example, we can define a notion of homotopy between morphisms and of homotopy equivalence between objects, in such a way that we recover as particular case the classical notions (in both the topological and homological contexts). If we define inductively an $n$-morphism as a homotopy between two $(n-1)$-morphisms, we see that a model category could be thought as a (special) $(\infty,1)$-category. This is indeed the case, as we will see in more detail in Chapter 2. From this point of view, it is natural to expect that every higher categorical\footnote{As usual, in these notes, higher categorical means $(\infty,1)$-categorical.} construction can be carried out in the model theoretic setting. Among the basic invariants we can associate to an $(\infty,1)$-category $\mathcal C$ there is of course its homotopy category $\mathrm{Ho}(\mathcal C)$, which is an ordinary category sharing the same objects of $\mathcal C$ and whose morphisms are obtained by those of $\mathcal C$ quotienting by the homotopy equivalence relation. Other higher categorical constructions include homotopy limits and colimits and mapping spaces.

\section{Model categories}

For sake of completeness, we recall some basic definitions from category theory (for more details the reader is referred to \cite{cwm}):

\begin{defin}
Let $\mathcal C$ be any category. The \emph{arrow category} of $\mathcal C$, denoted $\mathbf{Arr}(\mathcal C)$ is by definition the comma category $(\mathcal C \downarrow \mathcal C)$. The objects of $\mathbf{Arr}(\mathcal C)$ will be denoted $\mathrm{Arr}(\mathcal C)$.
\end{defin}

\begin{rmk}
Explicitly, objects of $\mathbf{Arr}(\mathcal C)$ are the arrows of $\mathcal C$ and morphisms are commutative squares.
\end{rmk}

\begin{rmk}
We will denote the two natural projection functors $(\mathcal C \downarrow \mathcal C) \to \mathcal C$ by
\[
\mathbf d_0, \mathbf d_1 \colon \mathbf{Arr}(\mathcal C) \to \mathcal C
\]
Observe that the composition of arrows induces a functor
\[
\circ \colon \mathbf{Arr}(\mathcal C) \times_{\mathbf d_1, \mathbf d_0} \mathbf{Arr}(\mathcal C) \to \mathbf{Arr}(\mathcal C)
\]
where $\mathbf{Arr}(\mathcal C) \times_{\mathbf d_1, \mathbf d_0} \mathbf{Arr}(\mathcal C)$ is the pullback
\[
\xymatrix{
\mathbf{Arr}(\mathcal C) \times_{\mathbf d_1, \mathbf d_0} \mathbf{Arr}(\mathcal C) \ar[d] \ar[r]^-{\pi_1} \ar[d]^{\pi_2} & \mathbf{Arr}(\mathcal C) \ar[d]^{\mathbf d_1} \\ \mathbf{Arr}(\mathcal C) \ar[r]^{\mathbf d_0} & \mathcal C
}
\]
\end{rmk}

\begin{defin}
Let $\mathcal C$ be any category. An arrow $f \in \mathrm{Arr}(\mathcal C)$ \emph{is a retract of an arrow $g \in \mathrm{Arr}(\mathcal C)$} if it is a retract of an object in $\mathbf{Arr}(\mathcal C)$. 
\end{defin}

Explicitly, $f$ is a retract of $g$ if we are given a commutative diagram as the following:
\[
\xymatrix{
A \ar@/^1.25pc/[rr]^{\mathrm{id}_A} \ar[d]^f \ar[r]^\alpha & C \ar[d]^g \ar[r]^\beta & A \ar[d]^f \\ B \ar[r]^\gamma \ar@/_1.2pc/[rr]_{\mathrm{id}_B} & D \ar[r]^\delta & B
}
\]

\begin{defin}
Let $\mathcal C$ be any category and let $I,J$ be subcategories of $\mathbf{Arr}(\mathcal C)$.
A \emph{functorial $(I,J)$-factorization} for $\mathcal C$ is a \emph{strict} section of the restriction of the composition functor
\[
\circ \colon I \times_{\mathbf d_1,\mathbf d_0} J \to \mathbf{Arr}(\mathcal C)
\]
\end{defin}

\begin{defin} \label{def LLP RLP}
Let $\mathcal C$ be any category and let $i \colon A \to B$, $p \colon X \to Y$ be any two arrows in $\mathcal C$. We say that $i$ \emph{has the left lifting property (\textup{LLP}) with respect to $p$} or, equivalently, that \emph{$f$ has the right lifting property (\textup{RLP}) with respect to $i$} if and only if for each commutative square
\[
\xymatrix{ A \ar[d]_i \ar[r]^\alpha & X \ar[d]^p \\ B \ar[r]^\beta \ar@{.>}[ur]^h & Y }
\]
the dotted lifting exists.
\end{defin}

\begin{defin}
A \emph{model category} is an ordinary category $\mathcal M$ equipped with three full, isomorphism-closed subcategories $W$, $\fib$, $\cofib$ of $\mathbf{Arr}(\mathcal M)$ in such a way that the following axioms are satisfied:
\begin{itemize}[leftmargin = 1.4 cm]
\item[{\bfseries MC1.}] $\mathcal M$ is (small) complete and (small) cocomplete.
\item[{\bfseries MC2.}] if $f,g,h$ are arrows satisfying $fg = h$ and two of them are in $W$, then so is the third;
\item[{\bfseries MC3.}] $W$, $\fib$, $\cofib$ are closed under retracts;
\item[{\bfseries MC4.}] every arrow in $W \cap \fib$ has the RLP with respect to every arrow in $\cofib$ and every arrow in $\fib$ has the RLP with respect to every arrow in $W \cap \cofib$;
\item[{\bfseries MC5.}] there are functorial $(W \cap \cofib, \fib)$ and $(\cofib, W \cap \fib)$ factorizations in $\mathcal C$.
\end{itemize}
We will denote by $(\mathcal C, W,\fib,\cofib)$ a category with a model structure; we will also say that the arrows in $W$ are the \emph{weak equivalences}, that those in $\fib$ (resp. in $\fib \cap W)$ are the fibrations (resp. trivial fibrations or acyclic fibrations) and that those in $\cofib$ (resp. in $\cofib \cap W)$ are the cofibrations (resp. trivial cofibrations or acyclic cofibrations) with respect to the given model structure.
\end{defin}

\begin{rmk}
In the original work of Quillen \cite{quillen} is required only the existence of \emph{finite} limits and a (not necessarily functorial) factorization. Our definition is conformal with \cite{hovey}, \cite{hirschhorn}, \cite{dhk}; however, the reader is warned that these variations exist.
\end{rmk}

\begin{eg}
Let $\mathcal M$ be a model category. Then $\mathcal M^\mathrm{op}$ carries a model category structure in a natural way: weak equivalences in $\mathcal M^\mathrm{op}$ are the same as in $\mathcal M$; fibrations in $\mathcal M^\mathrm{op}$ are the cofibrations of $\mathcal M$, and cofibrations of $\mathcal M^\mathrm{op}$ are the fibrations of $\mathcal M$. The check that this defines a model structure is straightforward and it is left to the reader. This tells us that the theory of model categories is self-dual and therefore every statement has a dual one obtained by interchanging the directions of arrows and fibrations with cofibrations.
\end{eg}

\begin{eg} \label{eg model structure overcategories}
Let $\mathcal M$ be a model category. Then for any object $x \in \Ob(\mathcal M)$ the overcategory $(\mathcal M \downarrow x)$ has a model structure obtained declaring that a morphism
\[
\xymatrix{
y \ar[rr]^f \ar[dr] & & z \ar[dl] \\ & x
}
\]
is a weak equivalence (resp.\ a fibration, resp.\ a cofibration) if and only if $f$ is a weak equivalence (resp.\ a fibration, resp.\ a cofibration) in $\mathcal M$. An analogous statement holds for the undercategory $(x \downarrow \mathcal M)$.
\end{eg}

\begin{eg} \label{eg model structure set}
Consider the category of sets $\Set$ and define $W$ to be $\mathrm{Arr}(\Set)$, cofibrations to be monomorphisms and fibrations to be epimorphisms. It is a straightforward exercise to check that the model category axioms are satisfied in this case. The reader might have fun in showing that there are other eight model structures on $\Set$.
\end{eg}

The axioms for a model category overdetermine the structure. As next Lemma shows, the knowledge of weak equivalences and fibrations completely determine the cofibrations.

\begin{lemma}
Let $\mathcal M$ be a model category. Then:
\begin{enumerate}
\item fibrations are exactly those arrows with the RLP with respect to all trivial cofibrations;
\item trivial fibrations are exactly those arrows with the RLP with respect to all cofibrations;
\item cofibrations are exactly those arrows with the LLP with respect to all trivial fibrations;
\item trivial cofibrations are exactly those arrows with the LLP with respect to all fibrations.
\end{enumerate}
\end{lemma}

\begin{proof}
The proof of 3. and 4. is dual to that of 1. and 2.; we will sketch 1., and 2. will be analogous. One inclusion is by definition; assume that $f$ has the RLP with respect to all trivial cofibrations; factorize $f$ as $pi$ where $i$ is a trivial cofibration and $p$ is a fibration. Choose a lifting $h$ in the diagram
\[
\xymatrix{
\bullet \ar[r]^{\mathrm{id}} \ar[d]_i & \bullet \ar[d]^f \\ \bullet \ar[r]^p \ar[ur]^h & \bullet
}
\]
and observe now that the diagram
\[
\xymatrix{
\bullet \ar[r]^i \ar[d]^f & \bullet \ar[d]^p \ar[r]^h & \bullet \ar[d]^f \\ \bullet \ar[r]^{\mathrm{id}} & \bullet \ar[r]^{\mathrm{id}} & \bullet
}
\]
express $f$ as retract of $i$. This implies that $f$ is a fibration.
\end{proof}

\begin{rmk}
The reader might ask himself whether weak equivalences completely determine the model structure or not. In general, the answer is negative: an easy counterexample is given by the category of chain complexes over a field $\mathbf{Ch}_k$, which can be endowed with both the projective and the injective model structure (see section \ref{chain complexes}). However, we would like to stress that from the perspective of these notes, two different model structures sharing the same weak equivalences should be thought as equivalent, in the sense that they determine the same ``homotopy theory''. To give a precise formulation of this statement, however, we will need both the notion of $(\infty,1)$-category and the simplicial localization technique, so we leave this as a remark for the moment.
\end{rmk}

\begin{cor} \label{cor stability for base and cobase change}
Let $\mathcal M$ be a model category. Then
\begin{enumerate}
\item $\fib$ is closed under pullback;
\item $\cofib$ is closed under pushout.
\end{enumerate}
\end{cor}

Before ending this section, we introduce a few more concepts that will turn useful later on.

\begin{defin}
Let $\mathcal M$. Then
\begin{enumerate}
\item an object $X \in \Ob(\mathcal M)$ is said to be cofibrant if the map $\emptyset \to X$ is a cofibration;
\item an object $X \in \Ob(\mathcal M)$ is said to be fibrant if the map $X \to *$ is a fibration;
\item a cofibrant approximation to an object $X \in \Ob(\mathcal M)$ is a pair $(\widetilde{X},i)$ where $\widetilde{X}$ is a cofibrant object and $i \colon \widetilde{X} \to X$ is a weak equivalence;
\item a fibrant approximation to an object $X \in \Ob(\mathcal M)$ is a pair $(\widehat{X},j)$ where $\widehat{X}$ is a fibrant object and $j \colon X \to \widehat{X}$ is a weak equivalence;
\item a cofibrant approximation to an arrow $f \colon X \to Y$ is the given of cofibrant approximations $(\widetilde{X},i_X)$, $(\widetilde{Y},i_Y)$ to $X$ and $Y$ and an arrow $\widetilde{f} \colon \widetilde{X} \to \widetilde{Y}$ such that the diagram
\[
\xymatrix{ \widetilde{X} \ar[r]^{i_X} \ar[d]^{\widetilde{f}} & X \ar[d]^f \\ \widetilde{Y} \ar[r]^{i_Y} & Y }
\]
commutes;
\item a fibrant approximation to an arrow $f \colon X \to Y$ is the given of two fibrant approximations $(\widehat{X},j_X)$ and $(\widehat{Y},j_Y)$ and an arrow $\widehat{f} \colon RX \to RY$ such that the diagram
\[
\xymatrix{ X \ar[r] \ar[d]^f & \widehat{X} \ar[d]^{\widehat{f}} \\ Y \ar[r] & \widehat{Y} }
\]
commutes.
\end{enumerate}
We will denote by $\mathcal M_c$ (resp.\ $\mathcal M_f$, resp.\ $\mathcal M_{cf}$) the full subcategory of $\mathcal M$ whose objects are the cofibrant (resp.\ fibrant, resp.\ fibrant and cofibrant) of $\mathcal M$.
\end{defin}

\begin{prop} \label{prop approximations}
Let $\mathcal M$ be a model category. Then:
\begin{enumerate}
\item every object $X \in \Ob(\mathcal M)$ has a \emph{functorial} cofibrant approximation $(\widetilde{X},i_X)$ where $i_X$ is a trivial fibration;
\item if $(\widetilde{X},i_X)$, $\widetilde{X}',i_X')$ are cofibrant approximations to an object $X \in \Ob(\mathcal M)$, and moreover $i_X'$ is a fibration, then there is a weak equivalence $f \colon \widetilde{X} \to \widetilde{X}'$;
\item every morphism in $\mathcal M$ has a fibrant approximation.
\end{enumerate}
\end{prop}

\begin{proof}
1. is a consequence of the factorization axiom. 2. and 3. follows from the lifting properties of cofibrations with respect to trivial fibrations. 
\end{proof}

We leave to the reader to state the dual of Proposition \ref{prop approximations}. We conclude this section with the following Lemma, due to Ken Brown, which is quite useful in several situations:

\begin{lemma} \label{lemma Ken Brown}
Let $\mathcal M$ be a model category and let $\mathcal C$ be a category with a subcategory $S \subset \mathbf{Arr}(\mathcal M)$ containing all the identities and satisfying the 2-out-of-3 axiom. If $F \colon \mathcal M \to \mathcal C$ is a functor that takes acyclic cofibrations between cofibrant objects to elements of $S$, then $F$ takes every weak equivalence between cofibrant objects to elements of $S$. Dually, if $F$ takes acyclic fibrations between fibrant objects to elements of $S$, then $F$ takes every weak equivalence between fibrant objects to elements of $S$.
\end{lemma}

\begin{proof}
Let $f \colon A \to B$ be a generic weak equivalence between cofibrant objects. Factor the map
\[
\langle f, 1_B \rangle \colon A \sqcup B \to B
\]
as
\[
A \sqcup \xrightarrow{q} C \xrightarrow{p} B
\]
with $p$ an acyclic fibration. Since $A$ and $B$ are cofibrant, stability of cofibrations for cobase change (Corollary \ref{cor stability for base and cobase change}) implies that the two maps
\[
A \xrightarrow{i_0} A \sqcup B \xleftarrow{i_1} B
\]
are cofibrations. By the 2-out-of-3 axiom, both $q \circ i_0$ and $q \circ i_1$ are weak equivalences; the hypothesis now imply that $F(q \circ i_0)$ and $F(q \circ i_1)$ are elements of $S$. Since $F(p \circ q \circ i_1) = F(1_B)$ is in $S$, it follows that $F(p)$ is in $S$. Therefore $F(f) = F(p) \circ F(q \circ i_2)$ is in $S$.
\end{proof}

\section{The homotopy category} \label{homotopy category}

\subsection{Motivations}

It is often claimed that a model category is a good place where to do homotopy theory and, indeed, we were saying something similar in the introduction. Concretely, this means that the presence of a model structure enables us to perform many homotopical constructions inside the model category, which resemble and generalize the topological or homological ones. In this section we introduce several homotopical notions and use them to build a basic invariant that can be attached to every model category: its homotopy category.

Before getting into the technical details, we think it is worth to give some motivation for the homotopy category. In algebraic topology, one is often concerned only with the ``homotopy type'' of a (sufficiently nice) topological space rather than the topological space itself. To define what is a homotopy type, recall first of all that a weak homotopy equivalence is a map $f \colon X \to Y$ such that $\pi_n(f)$ is an isomorphism for every $n \in \N$; a \emph{homotopy type} is therefore defined to be an equivalence class of topological spaces with respect to the relation generated by weak homotopy equivalences. Let us remark that this definition involves some subtleties: first of all, one might be tempted to say that a homotopy type is completely determined by its homotopy groups (which are indeed well defined). This is not the case, as the following counterexample shows:

\begin{eg}
Consider the (real) $2$-projective space $\R \mathrm{P}^2$ and  $\mathcal{S}^2 \times \R \mathrm{P}^\infty$, where $\mathcal{S}^2$ is the (real) $2$-sphere. These two CW-complexes have first fundamental group equal to $\Z / 2 \Z$ and their universal covers are $\mathcal{S}^2$ and $\mathcal{S}^2 \times \mathcal{S}^\infty$, which are homotopically equivalent (since $\mathcal{S}^\infty$ is contractible); therefore $\pi_n(\R \mathrm{P}^2) \simeq \pi_n(\mathcal{S}^2 \times \R \mathrm{P}^\infty)$ for every $n \ge 2$ using \cite[Proposition 4.1]{hatcher}. On the other side, $\mathcal{S}^2 \times \R \mathrm{P}^\infty$ has infinitely many non-vanishing homology groups, since it retracts onto $\R \mathrm{P}^\infty$. Since homology is homotopy invariant, it follows that $\R \mathrm{P}^2$ and $\mathcal{S}^2 \times \R \mathrm{P}^\infty$ cannot be homotopy equivalent.
\end{eg}

A part from this, a basic issue with the definition of homotopy type is that the relation we are considering is not symmetric, a simple counterexample being given by $\mathcal{S}^1$ and the pseudocircle $\mathbb S$. The smallest equivalence relation containing all the weak homotopy equivalences is obtained by considering zig-zag of homotopy equivalences. One could wish for a successive step, and try to form a ``category of homotopy types''; the natural way to do this is to take as objects the homotopy types and as arrows from $[X]$ to $[Y]$ zig-zag of maps
\[
X = X_0 \leftarrow X_1 \rightarrow \ldots \leftarrow X_{n-1} \rightarrow X_n = Y
\]
where all the maps going to the left are assumed to be weak equivalences. This construction is precisely the explicit construction of the (Gabriel-Zisman) localization of $\mathbf{CGHaus}$ at the class of weak homotopy equivalences; it is in fact clear that a way to form the category of homotopy types is to formally invert weak homotopy equivalences, i.e.\ to declare them to be isomorphisms. The main problem with this construction, is that \emph{a priori} such a category might not exist in the Grothendieck universe we fixed at the beginning; the problem here is that we are considering arbitrarily large zig-zag of morphisms. To solve this issue, one can classically proceed in two steps:
\begin{enumerate}
\item first, show that every equivalence class $[X]$ contains a nice enough representative, such as a CW-complex (this is the content of CW-approximation);
\item next shows that a map between CW-complexes in the homotopy category is always represented by a map of topological spaces (this is essentially the content of Whitehead's theorem).
\end{enumerate}
At this point, one can restrict himself to consider the category of CW-complexes (in virtue of step 1.) and then observe that, since weak homotopy equivalences coincide precisely with homotopy equivalences, to invert the former is the same as to quotient by the equivalence induced by the latter.

The homotopy category of a model category can be seen as a generalization of this process, and the inexperienced reader can think that the final goal of this section is to formalize and complete the technical gaps in the above construction. However, there is at least another way of reading this section, at least once one is familiar with the (intuitive) notion of $(\infty,1)$-category: one could argue, in fact, that the construction of the homotopy category is simply an \emph{escamotage} to introduce in a coherent way several homotopical notions, such as cylinder and path objects and homotopies between maps. This is rather interesting, because the existence of such notions is already a hint of the fact that model categories have enough structure to give rise to an $(\infty,1)$-category; in fact, one could define ``$n$-morphisms'' in $\mathcal M$ in an inductive way, saying that an $n$-morphism is a homotopy between two $(n-1)$-morphisms. One could try to organize these higher morphisms into spaces parametrizing them (this is what we will accomplish via the theory of mapping spaces), ending up with a topological (or simplicial) category. From this point of view, the homotopy category is simply the higher categorical construction that kills all the higher homotopies, giving back an ordinary category which can be seen as a homotopy invariant\footnote{The reader should note that this homotopy invariance is with respect to equivalence of $(\infty,1)$-categories.} of the $(\infty,1)$-category we started with; this perspective makes also really clear why the passage to the homotopy category loses so many informations.

\subsection{The formal definition}

Recall first of all the notion of localization \emph{\`a la Gabriel-Zisman}.

\begin{defin}
Let $\alpha$ be a cardinal. An $\alpha$-category is a category $\mathcal C$ such that the cardinality of $\mathrm{Arr}(\mathcal C)$ is strictly less than $\alpha$.
\end{defin}

\begin{rmk}
If $\alpha$ is a regular cardinal, the previous definition is equivalent to ask that $\mathrm{Ob}(\mathcal C)$ is $\alpha$-small and moreover $\mathcal C$ is locally $\alpha$-small, i.e.\ that for every couple of objects $x$ and $y$ in $\mathcal C$ the set $\Hom_{\mathcal C}(x,y)$ is $\alpha$-small.
\end{rmk}

\begin{rmk}
By a Grothendieck universe we will mean a strongly inaccessible cardinal.
\end{rmk}

\begin{defin} \label{def localization}
Let $\mathbb U \subset \mathbb V$ be Grothendieck universes and let $\mathcal C$ be a $\mathbb U$-small category. Let $S \subset \mathrm{Arr}(\mathcal C)$ be a set of arrows. A \emph{$\mathbb V$-localization of $\mathcal C$ with respect to $S$} is a $\mathbb V$-small category $\mathcal C[S^{-1}]$ together with a functor $F_S \colon \mathcal C \to \mathcal C[S^{-1}]$ such that
\begin{enumerate}
\item for all $s \in S$, $F_S(s)$ is an isomorphism;
\item for any other $\mathbb V$-small category $\mathcal A$ and any functor $G \colon \mathcal C \to \mathcal A$ such that $G(s)$ is an isomorphism for each $s \in S$, there is a functor $G_S \colon \mathcal C[S^{-1}] \to \mathcal A$ and a natural isomorphism
\[
\eta_G \colon G_S \circ F_S \simeq G
\]
\item for any $\mathbb V$-small category $\mathcal A$, the induced functor
\[
F_S^* \colon \mathbf{Funct}(\mathcal C[S^{-1}],\mathcal A) \to \mathbf{Funct}(\mathcal C, \mathcal A)
\]
is fully faithful.
\end{enumerate}
If $\mathcal C$ is a $\mathbb U$-category and $S \subset \mathrm{Arr}(\mathcal C)$ is a set of arrows, we will say that a functor $F \colon \mathcal C \to \mathcal D$ is a localization of $\mathcal C$ at $S$ if it is a $\mathbb V$-localization at $S$ for some Grothendieck universe $\mathbb V$.
\end{defin}

\begin{rmk}
This definition differs a little from those given in \cite{gz} and in \cite{weibel} because of the natural isomorphism $\eta_G$. However, this matches better the philosophy of category theory; a similar definition can be found in \cite[Ch. 7.1]{kashiwara}. The purpose of point 3. is to ensure the uniqueness of the factorization $G_S$, as well as that of the natural isomorphism $\eta_G$.
\end{rmk}

\begin{rmk} \label{remark enlarging universe}
It can be shown that given $\mathbb U$, $\mathcal C$ and $S$ as in the previous definition there is always $\mathbb V$ such that a $\mathbb V$-localization exists. This is proved for example in \cite[I.1]{gz}. Moreover, if $\mathbb U \subset \mathbb V$ are Grothendieck universes and $\mathcal C$ and $S$ are as in Definition \ref{def localization}, then a $\mathbb V$-localization $\mathcal C[S^{-1}]$ of $\mathcal C$ at $S$, is a $\mathbb W$-localization of $\mathcal C$ at $S$ for every Grothendieck universe $\mathbb V \subset \mathbb W$.
\end{rmk}

At this point, we can already formulate the first definition of the homotopy category of a model category $\mathcal M$:

\begin{defin}
Let $\mathcal M$ be a model category and let $W$ be the class of weak equivalences of $\mathcal M$. The \emph{homotopy category of $\mathcal M$} is the localization of $\mathcal M$ at $W$ and it is denoted $\mathrm{Ho}(\mathcal M)$.
\end{defin}

As we were saying at the beginning, it is not clear at all why the homotopy category of $\mathcal M$ should exist in the same Grothendieck universe of $\mathcal M$. This deserves therefore to be stated as a theorem, and it will be the guiding line of this section to provide a proof of it:

\begin{thm} \label{thm homotopy localization}
Let $\mathbb U$ be a Grothendieck universe and let $\mathcal M$ be a model $\mathbb U$-category. Then the homotopy category $\mathrm{Ho}(\mathcal M)$ is a $\mathbb U$-category.
\end{thm}

\subsection{Homotopy relations}

The first step toward the proof of Theorem \ref{thm homotopy localization} is to introduce a well-behaved notion of homotopy between maps. To do this, we will use the auxiliary notions of cylinder objects. To understand their relationship with the classical homotopy between continuous maps, the reader is encouraged to read the example in section \ref{topological spaces}.

\begin{defin}
Let $\mathcal M$ be a model category. A \emph{cylinder object} for $X \in \Ob(\mathcal M)$ is a factorization of the fold map
\[
\nabla \colon X \sqcup X \stackrel{i}{\hookrightarrow} X \times I \stackrel{\sim}{\to} X
\]
in a cofibration followed by a weak equivalence.
\end{defin}

%\begin{defin}
%Let $\mathcal M$ be a model category and let $X \in \Ob(\mathcal M)$ be any object.
%\begin{enumerate}
%\item A cylinder object for $X$ is a factorization of the fold map
%\[
%\nabla \colon X \sqcup X \stackrel{i}{\hookrightarrow} X \times I \stackrel{\sim}{\to} X
%\]
%in a cofibration followed by a weak equivalence.
%
%\item A path object for $X$ is a factorization of the diagonal map
%\[
%\Delta \colon X \stackrel{\sim}{\to} X^I \twoheadrightarrow X \times X
%\]
%in a weak equivalence followed by a fibration.
%\end{enumerate}
%\end{defin}

\begin{rmk}
A functorial cylinder object always exist, thanks to the factorization axiom. Moreover, we can require the map $X \times I \to X$ to be a trivial fibration, even though, we want to stress, this is not required in the definition.
\end{rmk}

%\begin{rmk}
%A functorial cylinder (path) object always exist, thanks to the factorization axiom. Moreover, we can require the map $X \times I \to X$ (resp. $X \to X^I$) to be a trivial fibration (resp.\ a trivial cofibration). However, it is important to remark that the weak equivalence in a cylinder (resp.\ path) object is not required to be a fibration (resp.\ a cofibration).
%\end{rmk}

\begin{rmk}
If $\mathcal M$ is a model category and $X \times I$ is a cylinder object for $X$, we will denote by $\mathrm{in}_k \colon X \to X \times I$ the two arrows making the diagram
\[
\xymatrix{ X \ar[d]^{i_0} \ar@/^.5pc/[dr]^{\mathrm{in}_0} \\ X \sqcup X \ar@{^(->}[r] & X \times I \\ X \ar[u]_{i_1} \ar@/_.5pc/[ur]_{\mathrm{in}_1} }
\]
commutative. Observe that the 2-out-of-3 axiom implies that $\mathrm{in}_k$ is always a weak equivalence.
\end{rmk}

We can use cylinder objects to introduce the notion of homotopy between two maps:

\begin{defin} \label{def left homotopy}
Let $\mathcal M$ be a model category and let $f,g \colon A \to X$ be two arrows. A \emph{left homotopy} from $f$ to $g$ is a pair $(A \times I, H)$ where $A \times I$ is a cylinder object for $A$ and $H \colon A \times I \to X$ is a map satisfying $H \circ \mathrm{in}_0 = f$, $H \circ \mathrm{in}_1 = g$. We will say that \emph{$f$ is left homotopic to $g$} if a left homotopy from $f$ to $g$ exists; in this case we will write $f \stackrel{l}{\sim} g$.
\end{defin}

\begin{rmk}
There are dual notions of cylinder objects and left homotopies, namely path objects and right homotopies. We leave to the reader to write down these definitions.
\end{rmk}

%\begin{defin}
%Let $\mathcal M$ be a model category and let $f,g \colon A \to X$ be two arrows.
%\begin{enumerate}
%\item A left homotopy from $f$ to $g$ is a pair $(A \times I, H)$ where $A \times I$ is a cylinder object for $A$ and $H \colon A \times I \to X$ is a map satisfying $H \circ \mathrm{in}_0 = f$, $H \circ \mathrm{in}_1 = g$. We say that $f$ is left homotopic to $g$ if a left homotopy from $f$ to $g$ exists; in this case we write $f \stackrel{l}{\sim} g$;
%
%\item A right homotopy from $f$ to $g$ is a pair $(X^I, K)$ where $X^I$ is a path object for $X$ and $K \colon A \to X^I$ is a map satisfying $\mathrm{pr}_0 \circ K = f$, $\mathrm{pr}_1 \circ K = g$. We say that $g$ is right homotopic to $g$ if a right homotopy from $f$ to $g$ exists; in this case we write $f \stackrel{g}{\sim} g$.
%\end{enumerate}
%\end{defin}

\begin{lemma} \label{lemma homotopy category 0}
If $f \colon A \to B$ is left homotopic to a weak equivalence, then $f$ is a weak equivalence.
\end{lemma}

\begin{proof}
Choose a cylinder object $A \times I$ for $A$ and a homotopy $H \colon A \times I \to B$. Since $\mathrm{in}_0, \mathrm{in}_1$ are weak equivalences, and $H \circ \mathrm{in}_1$ is a weak equivalence by hypothesis, it follows from the 2-out-of-3 axiom that $H$ is a weak equivalence. Therefore, $f = K \circ \mathrm{in}_0$ is a weak equivalence too.
\end{proof}

\begin{lemma} \label{lemma homotopy category 1}
Let $\mathcal M$ be a model category. If $A$ is a cofibrant object, then $\stackrel{l}{\sim}$ defines an equivalence relation on $\Hom_{\mathcal M}(A,X)$ for every object $X \in \Ob(\mathcal M)$.
\end{lemma}

%\begin{lemma} \label{lemma homotopy category 1}
%Let $\mathcal M$ be a model category. 
%\item If $A$ is a cofibrant object, then $\stackrel{l}{\sim}$ defines an equivalence relation on $\Hom_{\mathcal M}(A,X)$ for every object $X \in \Ob(\mathcal M)$;
%\item if $X$ is a fibrant object, then $\stackrel{r}{\sim}$ defines an equivalence relation on $\Hom_{\mathcal M}(A,X)$ for every object $A \in \Ob(\mathcal M)$.
%\end{enumerate}
%\end{lemma}

\begin{defin}
Let $\mathcal M$ be a model category. Let $A,X \in \Ob(\mathcal M)$; we denote by $\pi^l(A,X)$ the quotient of $\Hom_{\mathcal M}(A,X)$ under the equivalence relation \emph{generated} by left homotopy.
\end{defin}

%\begin{defin}
%Let $\mathcal M$ be a model category. Let $A,X \in \Ob(\mathcal M)$; we denote by $\pi^l(A,X)$ the quotient of $\Hom_{\mathcal M}(A,X)$ under the equivalence relation \emph{generated} by left homotopy. Similarly, we will denote by $\pi^r(A,X)$ the quotient of $\Hom_{\mathcal M}(A,X)$ by the equivalence relation \emph{generated} by right homotopy.
%\end{defin}

\begin{lemma} \label{lemma homotopy category 2}
Let $\mathcal M$ be a model category. 
\begin{enumerate}
\item If $A$ is cofibrant and $p \colon X \to Y$ is an acyclic fibration or a weak equivalence between fibrant objects, then the map
\[
p_* \colon \Hom_{\mathcal M}(A,X) \to \Hom_{\mathcal M}(A,Y)
\]
induces a bijection
\[
p_* \colon \pi^l(A,X) \to \pi^l(A,Y)
\]

\item If $X$ is fibrant then composition in $\mathcal M$ induces a map
\[
\pi^l(A',A) \times \pi^l(A,X) \to \pi^l(A',X)
\]
\end{enumerate}
\end{lemma}

%\begin{lemma} \label{lemma homotopy category 2}
%Let $\mathcal M$ be a model category.
%\begin{enumerate}
%\item If $A$ is cofibrant and $p \colon X \to Y$ is an acyclic fibration or a weak equivalence between fibrant objects, then the map
%\[
%p_* \colon \Hom_{\mathcal M}(A,X) \to \Hom_{\mathcal M}(A,Y)
%\]
%induces a bijection
%\[
%p_* \colon \pi^l(A,X) \to \pi^l(A,Y)
%\]
%\item If $X$ is fibrant and $i \colon A \to B$ is an acyclic cofibration of a weak equivalence between cofibrant objects, then the map
%\[
%i^* \colon \Hom_{\mathcal M}(B,X) \to \Hom_{\mathcal M}(A,X)
%\]
%induces a bijection
%\[
%i^* \colon \pi^r(B,X) \to \pi^r(A,X)
%\]
%\end{enumerate}
%\end{lemma}

%\begin{lemma} \label{lemma hom homotopy category}
%Let $\mathcal M$ be a model category.
%\begin{enumerate}
%\item If $X$ is fibrant then composition in $\mathcal M$ induces a map
%\[
%\pi^l(A',A) \times \pi^l(A,X) \to \pi^l(A',X)
%\]
%\item If $A$ is cofibrant the composition in $\mathcal M$ induces a map
%\[
%\pi^r(A,X) \times \pi^r(A,X') \to \pi^r(A,X')
%\]
%\end{enumerate}
%\end{lemma}

\begin{lemma} \label{lemma homotopy category 3}
Let $\mathcal M$ be a model category and let $f,g \colon A \to X$ be maps.
\begin{enumerate}
\item If $A$ is cofibrant and $f \stackrel{l}{\sim} g$, then $f \stackrel{r}{\sim} g$;
\item if $X$ is fibrant and $f \stackrel{r}{\sim} g$, then $f \stackrel{l}{\sim} g$.
\end{enumerate}
\end{lemma}

%\begin{notation}
%If $A$ is cofibrant and $X$ is fibrant, previous lemma shows that the two relations $\stackrel{l}{\sim}$ and $\stackrel{r}{\sim}$ on $\Hom_{\mathcal M}(A,X)$ coincide. In this case we will denote both by $\sim$ and we will refer to it as the homotopy equivalence relation.
%\end{notation}

\begin{cor} \label{cor weak homotopy category}
The homotopy relation on morphisms of $\mathcal M_{cf}$ is an equivalence relation and it is compatible with composition. Hence the category $\mathcal M_{cf} / \sim$ exists.
\end{cor}

\begin{proof}
This follows from Lemma \ref{lemma homotopy category 2} and its dual version, concerning path objects and right homotopies, and from Lemma \ref{lemma homotopy category 3}.
\end{proof}

The following theorem is the equivalent, in our abstract setting, of Whitehead's Theorem:

\begin{thm} \label{thm abstract whitehead}
Let $\mathcal M$ be a model category and let $f \colon A \to X$ be a map between objects which are both fibrant and cofibrant. Then $f$ is a weak equivalence if and only if it is a homotopy equivalence.
\end{thm}

\begin{proof}[Sketch of the proof.]
Suppose that $f \colon A \to B$ is a weak equivalence of objects in $\mathcal M_{cf}$. Then Lemma \ref{lemma homotopy category 2} shows that for any other fibrant and cofibrant object $X$ we have an induced bijection
\[
f_* \colon \pi(X,A) \to \pi(X,B)
\]
For $X = B$ we find $g \colon B \to A$ such that $fg \sim \mathrm{id}_B$; then $fgf \sim f$ and taking $X = A$ we can cancel $f$ obtaining $gf \sim \mathrm{id}_A$. Thus $f$ is a homotopy equivalence.

Conversely, suppose that $f$ is a homotopy equivalence. Factor $f$ as
\[
A \xrightarrow{g} C \xrightarrow{p} B
\]
with $g$ acyclic cofibration. Since $C$ is fibrant and cofibrant, it follows that $g$ is a homotopy equivalence. Let $f' \colon B \to A$ be a homotopy inverse for $f$ and choose a left homotopy
\[
H \colon B \times I \to B
\]
from $ff'$ to $1_B$. Since $B$ is cofibrant the map $\mathrm{in}_0 \colon B \to B \times I$ is an acyclic cofibration; therefore we can choose a lifting $H' \colon B \times I \to C$ in the following diagram:
\[
\xymatrix{
B \ar[d]_{\mathrm{in}_0} \ar[r]^{gf'} & C \ar[d]^p \\ B \times I \ar@{.>}[ur]^{H'} \ar[r]_H & B
}
\]
Set
\[
q\coloneqq H' \circ \mathrm{in}_1
\]
Then $pq = 1_B$ and $H'$ is a left homotopy from $gf'$ to $q$. If $g'$ is a homotopy inverse for $g$ we get $p \sim pgg' \sim fg'$, i.e.
\[
qp \sim (gf') (fg') \sim 1_C
\]
Lemma \ref{lemma homotopy category 0} implies now that $qp$ is a weak equivalence. But the diagram
\[
\xymatrix{
C \ar[r]^{1_C} \ar[d]^p & C \ar[r]^{1_C} \ar[d]^{qp} & C \ar[d]^p \\ B \ar[r]^q & C \ar[r]^p & B
}
\]
expresses $p$ as retract of $qp$.
\end{proof}

\begin{cor} \label{cor homotopy for fibrant cofibrant}
Let $\mathcal M$ be a model category; the quotient map $\gamma \colon \mathcal M_{cf} \to \mathcal M_{cf} / \sim$ is the localization of $\mathcal M_{cf}$ with respect to weak equivalences.
\end{cor}

\begin{proof}
Let $F \colon \mathcal M_{cf} \to \mathcal C$ be a functor sending every weak equivalence to an isomorphism. Let $f,g \colon A \to B$ be homotopic maps. Choose a cylinder object for $A$
\[
A \sqcup A \xrightarrow{i} A \times I \xrightarrow{p} A
\]
and a (left) homotopy $H \colon A \times I \to B$ from $f$ to $g$. Since $p$ is a weak equivalence $F(p)$ is an isomorphism; therefore:
\[
F(p) \circ F(\mathrm{in}_0) = F(p \circ \mathrm{in}_0) = F(p \circ \mathrm{in}_1) F(p) \circ F(\mathrm{in}_1)
\]
and thus $F(\mathrm{in}_0) = F(\mathrm{in}_1)$. It follows that
\[
F(f) = F(H \mathrm{in}_0) = F(H) F(\mathrm{in}_0) = F(H) F(\mathrm{in}_1) = F(H \circ \mathrm{in_1}) = F(g)
\]
The universal property of the quotient therefore produces a unique morphism
\[
\overline{F} \colon \mathcal M_{cf} / \sim \to \mathcal C
\]
and a unique natural isomorphism $t \colon \overline{F} \circ \gamma \to F$. Universality follows from universal property of the quotient, with considerations similar to the ones above.
\end{proof}

\subsection{Localizing subcategories}

So far we proved that the localization of $\mathcal M_{cf}$ with respect to the class of weak equivalences exist. To conclude that the same holds true for the whole model category $\mathcal M$, one can use the abstract notion of localizing subcategory to reduce to that case.

\begin{defin} \label{def localizing subcategories}
Let $\mathcal C$ be a category and let $\mathcal C_0$, $\mathbf W \subset \mathcal C$ be subcategories. We say that $\mathcal C_0$ is a left (resp. right) deformation retract of $\mathcal C$ with respect to $\mathbf W$ if there exists a functor $R \colon \mathcal C \to \mathcal C_0$ and a natural transformation $s \colon R \to \mathrm{Id}_{\mathcal C}$ (resp. $s \colon \mathrm{Id}_{\mathcal C} \to R$) such that:
\begin{enumerate}
\item $R$ sends $\mathbf W$ into $\mathbf W \cap \mathcal C_0$;
\item for every object $C \in \Ob(\mathcal C)$, the map $s_C$ is in $\mathbf W$;
\item for every object $C_0 \in \Ob(\mathcal C_0)$, the map $s_{C_0}$ is in $\mathbf W \cap \mathcal C_0$.
\end{enumerate}
The pair $(R,s)$ is called a left (resp. right) deformation retraction from $\mathcal C$ to $\mathcal C_0$ with respect to $\mathbf W$. If $\mathbf W = \mathcal C$, we will say that $(R,s)$ is an absolute deformation retraction of $\mathcal C$ to $\mathcal C_0$.
\end{defin}

\begin{lemma} \label{lemma localizing subcategories}
Let $\mathcal C$ be a category and let $\mathcal C_0$, $\mathbf W \subset \mathcal C$ be subcategories. Let $R \colon \mathcal C \to \mathcal C_0$ be an absolute left deformation retraction. Assume that for every object $C \in \Ob(\mathcal C)$ the map $s_C$ is in $\mathbf W$; if $\mathbf W$ satisfies the 2-out-of-3 then $R$ sends $\mathbf W$ into $\mathbf W \cap \mathcal C_0$. If $\mathcal C_0$ is a full subcategory, then for every $C_0 \in \Ob(\mathcal C_0)$, the map $s_{C_0}$ is in $\mathbf W \cap \mathcal C_0$.
\end{lemma}

\begin{proof}
Let $f \colon A \to B$ be an arrow in $\mathbf W$; consider the commutative square
\[
\xymatrix{
R(A) \ar[d]^{R(f)} \ar[r]^{s_A} & A \ar[d]^f \\ R(B) \ar[r]^{s_B} & B
}
\]
Then $f \circ s_A$ and $s_B$ are in $\mathbf W$; the 2-out-of-3 implies that $R(f)$ is in $\mathbf W$. The second statement is trivial, since $s_{C_0} \colon R(C_0) \to C_0$ is an arrow between objects of $\mathcal C_0$.
\end{proof}

\begin{prop} \label{prop localizing subcategories}
Let $\mathcal C$ be a category and let $\mathcal C_0, \mathbf W \subset \mathcal C$ be subcategories; write $\mathbf W_0\coloneqq \mathcal C_0 \cap \mathbf W$. Let $(R,s)$ be a left (or right) deformation retraction of $\mathcal C$ to $\mathcal C_0$ with respect to $\mathbf W$. Let $\mathbb V$ be a Grothendieck universe where the localizations $\mathcal C[\mathbf W^{-1}]$ exist. Then
\begin{enumerate}
\item the induced inclusion $\mathcal C_0[\mathbf W_0^{-1}] \to \mathcal C[\mathbf W^{-1}]$ is an equivalence of categories;
\item $\mathcal C[\mathbf W^{-1}]$ exists if and only if $\mathcal C_0[\mathbf W_0^{-1}]$ does.
\end{enumerate}
\end{prop}

\begin{proof}
Let $j_0 \colon \mathcal C_0 \to \mathcal C$ be the inclusion functor. The universal property of localization show that both $j_0$ and $R$ define functors $\widetilde{R} \colon \mathcal C[\mathbf W^{-1}] \to \mathcal C_0[\mathbf W_0^{-1}]$ and $\widetilde{\jmath}_0 \colon \mathcal C_0[\mathbf W_0^{-1}] \to \mathcal C[\mathbf W^{-1}]$. The natural transformation $s \colon j_0 R \to \mathrm{Id}_{\mathcal C}$ define a natural transformation
\[
\widetilde{s} \colon \widetilde{\jmath}_0 \circ \widetilde{R} \to \mathrm{Id}_{\mathcal C[\mathbf W^{-1}]}
\]
By construction, $\widetilde{s}_C = s_C$. Therefore, $\widetilde{s}$ is a natural isomorphism. Condition 3. in Definition \ref{def localizing subcategories} shows that $s$ restricts to a natural transformation $R j_0 \to \mathrm{Id}_{\mathcal C_0}$. For the same reasons of above, this natural transformation lifts to a natural isomorphism $\widetilde{R} \circ  \widetilde{\jmath}_0 \to \mathrm{Id}_{\mathcal C_0[\mathbf W_0^{-1}]}$. This gives the desired equivalence of categories. The second statement is an obvious consequence of the first.
\end{proof}

One finally observe that the functorial factorization easily imply:

\begin{prop} \label{prop reduction step}
For every model category $\mathcal M$:
\begin{enumerate}
\item $\mathcal M_{cf}$ and $\mathcal M_c$ are left deformation retracts of $\mathcal M_f$ and $\mathcal M$ with respect to weak equivalences;
\item $\mathcal M_{cf}$ and $\mathcal M_f$ are right deformation retracts of $\mathcal M_c$ and $\mathcal M$.
\end{enumerate}
\end{prop}

\begin{proof}
Exercise.
\end{proof}

%\begin{proof}
%We will show that $\mathcal M_c$ is a left deformation retraction of $\mathcal M$ with respect to weak equivalences. The other statements are similar. Let's fix an initial object $\emptyset$; there exists a functor
%\[
%F \colon \mathcal M \to \mathbf{Arr}(\mathcal M)
%\]
%sending an object $A$ to the (unique) arrow $\emptyset \to A$; this assignment extends easily to arrows, and it is functorial. Introduce next the $(\cofib,\fib \cap W)$-factorization functor
%\[
%G \colon \mathbf{Arr}(\mathcal M) \to \mathbf{Arr}(\mathcal M) \times_{\mathbf d_1, \mathbf d_0} \mathbf{Arr}(\mathcal M)
%\]
%Finally, denote by $\pi_0$ and $\pi_1$ the projection functors
%\[
%\pi_i \colon \mathbf{Arr}(\mathcal M) \times_{\mathbf d_1, \mathbf d_0} \mathbf{Arr}(\mathcal M) \to \mathbf{Arr}(\mathcal M)
%\]
%Consider the functor
%\[
%Q\coloneqq \mathbf d_0 \circ \pi_1 \circ G \circ F \colon \mathcal M \to \mathcal M_c
%\]
%For each object $A \in \Ob(\mathcal M)$ we have an arrow
%\[
%p_A\coloneqq \pi_1(G(F(A)) \colon Q(A) \to A
%\]
%which is a trivial fibration. It's clear that the family $\{p_A\}_{A \in \Ob(\mathcal M)}$ defines a natural transformation $j_c \circ Q \to \mathrm{Id}_{\mathcal M}$ (here $j_c \colon \mathcal M_c \to \mathcal M$ denotes the natural inclusion). This, together with Lemma \ref{lemma localizing subcategories}, implies that $\mathcal M_c$ is a left deformation retract of $\mathcal M$.
%\end{proof}

We can finally prove Theorem \ref{thm homotopy localization}:

\begin{proof}[Proof of Theorem \ref{thm homotopy localization}.]
With Proposition \ref{prop reduction step} we were reduced to prove that the localization of $\mathcal M_{cf}$ with respect to weak equivalences exists. This is done in Corollary \ref{cor homotopy for fibrant cofibrant}.
\end{proof}

%\subsection{Complement: homotopy and liftings}
%
%This part is not necessary for the development of the theory, but it sheds some light on the lifting axiom {\bfseries MC4.\ } and it gives motivations for the theory of mapping spaces. In reading the lifting axiom for model category, the reader might have asked himself whether the lifting is unique or not. The answer in general is negative:
%
%\begin{eg}
%Consider $\Set$ with the model structure of Example \ref{eg model structure set}; assume that $p \colon X \to Y$ is a surjection and consider the following lifting problem:
%\[
%\xymatrix{
%\emptyset \ar[r] \ar[d] & X \ar[d]^p \\ Y \ar@{=}[r] \ar@{.>}[ur] & Y
%}
%\]
%A solution for this problem is precisely a section of $f$ and therefore it is clear that such a solution is not unique as soon as $p$ is not bijective.
%\end{eg}
%
%The situation described in previous example is standard: in homotopy theory, it doesn't make much sense to ask for uniqueness, but only for uniqueness up-to-homotopy, as it is easy to show:
%
%\begin{prop} \label{prop lifting up to homotopy}
%Let $i \colon A \to B$ be a cofibration, $p \colon X \to Y$ a fibration. Then for each commutative square
%\[
%\xymatrix{
%A \ar[d]_i \ar[r]^f & X \ar[d]^p \\ B \ar[r]_g \ar@<.5ex>@{.>}[ur]^{h_1} \ar@<-.5ex>@{.>}[ur]_{h_2} & Y
%}
%\]
%and each pair of liftings $h_1,h_2$, we have:
%\begin{enumerate}
%\item if $p$ is a trivial fibration, $h_1$ is left homotopic to $h_2$;
%\item if $i$ is a trivial cofibration, $h_1$ is right homotopic to $h_2$.
%\end{enumerate}
%\end{prop}
%
%\begin{proof}
%We will prove the first statement. Choose a cylinder object for $B$:
%\[
%B \sqcup B \xrightarrow{j} B \times I \xrightarrow{r} B
%\]
%and consider the diagram
%\[
%\xymatrix{
%B \sqcup B \ar[d]_j \ar[rr]^-{h_1 \sqcup h_2} & & X \ar[d]^p \\ B \times I \ar@{.>}[urr]^H \ar[r]_r & B \ar[r]_g & Y
%}
%\]
%The lifting exists by hypothesis, since $j$ is a cofibration and $p$ is a trivial fibration. Clearly,
%\[
%H \circ \mathrm{in}_0 = h_1, \quad H \circ \mathrm{in}_1 = h_2
%\]
%\end{proof}
%
%This result is satisfactory in the sense that it is philosophically correct to replace uniqueness statements in classical category theory with uniqueness-up-to-homotopy in the world of $(\infty,1)$-categories. The relation between the two can be better understood if we think that maps between objects in homotopy theory are not simply sets, but rather spaces (at this point the reader can simply understand topological spaces); therefore the uniqueness-up-to-homotopy is equivalent to say that the space of solutions to a lifting problem is contractible and, therefore, not distinguishable from a point, homotopically speaking.
%
%\begin{cor} \label{cor lifting between approximations}
%Let $X,Y$ be given objects; let $(\widetilde{X},i)$ and $(\widetilde{Y},j)$ be cofibrant approximations such that the $j$ is a fibration. Then any map $f \colon X \to Y$ has a lifting $\widetilde{f} \colon \widetilde{X} \to \widetilde{Y}$ and this lifting is unique up to right homotopy.
%\end{cor}
%
%\begin{proof}
%We obtain $\widetilde{f}$ choosing a lifting in the following diagram:
%\[
%\xymatrix{
%\emptyset \ar[d] \ar[r] & \widetilde{Y} \ar[d]^j \\ \widetilde{X} \ar@{.>}[ur]^{\widetilde{f}} \ar[r]_{f \circ i} & Y
%}
%\]
%Uniqueness up to right homotopy is then a consequence of Proposition \ref{prop lifting up to homotopy}.
%\end{proof}
%
%\begin{cor} \label{cor uniqueness of approximation}
%Let $X$ be a given object. If $(W,i)$ and $(W',j)$ are two cofibrant approximations such that $j$ is a fibration, there is a weak equivalence $f \colon W \to W'$ such that $j \circ f = i$; moreover $f$ is unique up to right homotopy.
%\end{cor}
%
%\begin{proof}
%Apply Corollary \ref{cor lifting between approximations} to the identity $\mathrm{id}_X \colon X \to X$.
%\end{proof}

\section{Cofibrantly generated model categories}

So far we saw only one example of model category, namely Example \ref{eg model structure set}, and it was rather trivial. The reason is that to prove the existence of a model structure one usually needs a lot of work, and it is not an easy task at all. Usually, the most difficult axioms to verify are the factorization ones. The goal of this section is to provide a general technique, called the \emph{Quillen small object argument}, which produces factorization systems. The main drawback of this tool is that the resulting factorization is usually not computable and therefore one needs supplementary work when he has to explicitly deal with the model structure; nevertheless, this is a fundamental technique and it is part of the standard toolbox of every homotopy theorist. Once the small object argument will be dealt with, we will briefly discuss the notion of cofibrantly generated model category, as it is the most common type of model category that one can encounter in the practice.

\subsection{Generalities about weak factorization systems}

The small object argument produces special kind of factorization systems, which are usually known as \emph{weak factorization systems}. We collect here a small number of definitions and of basic results concerning such objects. This theory is due to A. Joyal and M. Tierney.

\begin{defin}
Let $\mathcal C$ be a category and let $I$ and $F$ be two subset of arrows in $\mathcal C$. We will say that $I$ is weakly left orthogonal to $F$, written $I \pitchfork F$ if every arrow of $I$ has the LLP with respect to every arrow in $F$.
\end{defin}

\begin{defin}
Let $I$ be a subset of arrows in a category $\mathcal C$. We will denote by $\rlp{I}$ the class of arrows having the RLP with respect to every morphism in $I$. Dually, we will denote by $\llp{I}$ the class of arrows having the LLP with respect to every morphism in $I$.
\end{defin}

\begin{defin}
A class of morphisms $S$ in a category $\mathcal C$ is said to be \emph{weakly saturated} if it satisfies the following requirements:
\begin{enumerate}
\item $S$ is closed under isomorphisms;
\item $S$ is closed under retracts;
\item $S$ is closed under pushouts;
\item $S$ is closed under countable compositions and arbitrary disjoint unions.
\end{enumerate}
\end{defin}

\begin{lemma} \label{lemma llp saturation}
\begin{enumerate}
\item Let $f \colon F \to G$ be a map in a category $\mathcal C$. Then $\llp{\{f\}}$ is weakly saturated;

\item the intersection of weakly saturated classes is again saturated.
\end{enumerate}
\end{lemma}

\begin{proof}
Exercise.
\end{proof}

\begin{defin}
Let $\mathcal C$ be a category. A (functorial) weak factorization system is the given of two subset of arrows $(I,F)$ satisfying the following conditions:
\begin{enumerate}
\item every arrow of $f$ can be (functorially) factorized as $p \circ i$, where $p \in F$ and $i \in I$;

\item $I = \llp{(\rlp{F})}$ and $F = \rlp{I}$.
\end{enumerate}
\end{defin}

\begin{defin}
Let $\mathcal C$ be a category and let $I$ be a class of arrows in $\mathcal C$. We will denote by $\cofreg{I}$ the smallest class of arrows of $\mathcal C$ containing $I$ and closed under isomorphisms, pushouts and transfinite compositions.
\end{defin}

\subsection{The small object argument}

\begin{defin} \label{def regular cardinal}
A cardinal $\alpha$ is said to be \emph{regular} if for every family of sets $\{X_i\}_{i \in I}$ such that $|I| < \alpha$ and $|X_i| < \alpha$ one has $\left| \bigcup_{i \in I} X_i \right| < \alpha$.
\end{defin}

\begin{defin}
Let $\alpha$ be a regular cardinal and let $\mathcal C$ be a category. A diagram $F \colon \alpha \to \mathcal C$ is said to be an \emph{$\alpha$-sequence} if for every limit ordinal $\gamma < \alpha$ the natural map
\[
\colim_{\beta < \gamma} F(\beta) \to F(\gamma)
\]
is an isomorphism. If moreover $S \subset \mathrm{Arr}(\mathcal C)$ is a set of arrows, by an \emph{$\alpha$-sequence in $\mathcal D$} we will mean an $\alpha$-sequence $F \colon \alpha \to \mathcal C$ such that for every $\beta \le \gamma < \alpha$ the natural map $F(\beta) \to F(\gamma)$ is an element of $S$.
\end{defin}

\begin{defin}
Let $\mathcal C$ be a category, $S$ a set of arrows of $\mathcal C$ and $\alpha$ a regular cardinal. An object $X$ in $\mathcal C$ is said to be \emph{$\alpha$-compact with respect to $S$} if the corepresentable functor $\Hom_{\mathcal C}(X,-)$ preserves the colimits of $\alpha$-sequences in $S$.
\end{defin}

\begin{defin}
Let $\mathcal C$ be a category. A subset of arrows $I \subset \mathrm{Arr}(\mathcal C)$ is said to \emph{permit the small object argument} if there exists a regular cardinal $\alpha$ such that the domains of the arrows in $I$ are $\alpha$-compact with respect to $\mathrm{cof}_{\mathrm{reg}}(I)$.
\end{defin}

\begin{thm}
Suppose that $I$ is a set of morphisms in a category $\mathcal C$ permitting the small object argument. Then $(\mathrm{cof}_{\mathrm{reg}}(I), I^{\pitchfork})$ is a weak factorization system in $\mathcal C$.
\end{thm}

\begin{proof}
See \cite{hirschhorn}.
\end{proof}

\begin{cor} \label{cor weakly saturation}
Suppose that $I$ is a set of morphisms in a category $\mathcal C$ permitting the small object argument. Then $\llp{(\rlp{I})}$ is the smallest weakly saturated subcategory of $\mathcal C$ containing $I$.
\end{cor}

\begin{proof}
Let $\overline{I}$ be the smallest weakly saturated subcategory of $\mathcal C$ containing $I$. It is clear that $\llp{(\rlp{I})}$ is a subcategory and that $I \subset \llp{(\rlp{I})}$. Since $\llp{(\rlp{I})}$ is weakly saturated, it follows that $\overline{I} \subset \llp{(\rlp{I})}$. On the other side, an element $f$ of $\llp{(\rlp{I})}$ can be factored as $f = p \circ i$, where $p \in \rlp{(\llp{I})}$ and $i \in \cofreg{I}$. Then $i \in \overline{I}$ and $f$ is a retract of $i$, completing the proof.
\end{proof}

\subsection{Cofibrantly generation}

\begin{defin}
A cofibrantly generated model category is a model category $\mathcal M$ such that:
\begin{enumerate}
\item there exists a set $I$ of maps permitting the small object argument and such that $\fib \cap W = \rlp{I}$;
\item there exists a set $J$ of maps permitting the small object argument and such that $\fib = \rlp{J}$.
\end{enumerate}
\end{defin}

\begin{thm}[Recognizing principle] \label{thm recognizing}
Let $\mathcal M$ be a category that is closed under small limits and colimits and let $W$ be a subcategory of $\mathcal M$ containing all the isomorphisms. If $I$ and $J$ are sets of maps in $\mathcal M$, then $\mathcal M$ has a cofibrantly generated model structure with $W$ as weak equivalences, $I$ as generating cofibrations and $J$ as generating trivial cofibrations if and only if the following conditions are met:
\begin{enumerate}
\item $W$ is closed under retracts and it satisfies the 2-out-of-3 axiom;
\item both $I$ and $J$ permit the small object argument;
\item $\llp{(\rlp{J})} \subseteq \llp{(\rlp{I})} \cap W$;
\item $\rlp{I} \subseteq \rlp{J} \cap W$;
\item either $\llp{(\rlp{I})} \cap W \subseteq \llp{(\rlp{J})}$ or $\rlp{J} \cap W \subseteq \rlp{I}$.
\end{enumerate}
\end{thm}

\begin{proof}
If $\mathcal M$ is a cofibrantly generated model category with $W$ as class of weak equivalences, $I$ as set of generating cofibrations and $J$ as set of generating trivial cofibrations, then the conditions 1. and 2. hold by definition. Moreover
\[
\rlp{I} = \fib \cap W, \quad \fib = \rlp{J}
\]
so that
\[
\llp{(\rlp{I})} = \cofib, \quad \cofib \cap W = \llp{(\rlp{J})}
\]
and conditions 3., 4. and 5. follow.

Conversely, assume that conditions 1. to 5. hold. Define
\[
\fib := \rlp{J}, \quad \cofib := \llp{(\rlp{I})}
\]
Then it is clear that $\fib$ and $\cofib$ form subcategories closed under retracts. The small object argument produces functorial weak factorization systems $(\cofreg{I}, \rlp{I})$ and $(\cofreg{J}, \rlp{J})$; conditions 3. and 4. imply then that {\bfseries MC5} is satisfied. We are left to check the lifting axiom {\bfseries MC4}.

Assume for example that $\llp{(\rlp{I})} \cap W \subseteq \llp{(\rlp{J})}$; we immediately get
\[
\cofib \cap W = \llp{(\rlp{J})} = \llp{(\rlp{J})} = \llp{\fib}
\]
and we have to show $\fib \cap W \subseteq \rlp{\cofib}$. Let $f \colon A \to B$ be a trivial fibration and factorize it as
\[
f = q \circ j
\]
where $q \in \rlp{I}$ and $j \in \cofreg{I} \cap W$. In the diagram
\[
\xymatrix{
A \ar[d]_j \ar@{=}[r] & A \ar[d]^f \\ C \ar[r]_q \ar@{.>}[ur] & B
}
\]
the lifting exists because $j \in \cofib \cap W$ and $f \in \fib$, so that $f$ is a retract of $q$, which has the right lifting property with respect to every cofibration because
\[
\rlp{I} \subseteq \rlp{\cofib}
\]
If instead $\rlp{J} \cap W \subseteq \rlp{I}$ the proof proceed in a similar way.
\end{proof}

\section{Examples}

In this section we collect some of the most common example of model categories, and in any case it is safe to assume that every other example we will encounter throughout this book can be obtained from these ones via some model-theoretic construction (such as a lifting argument or a Bousfield localization). Often, to prove the existence of a certain model structure is a difficult task, as in the case of simplicial sets, and this would go beyond the scope of these notes; in these cases, we will simply refer the reader to a proper reference. Besides this, for each model category we will introduce, we will compute explicitly cylinder objects.

\subsection{Topological spaces}  \label{topological spaces}

$\mathbf{CGHaus}$ is among the simplest (and interesting) examples of a model category that we know. There are at least two different model structures on $\mathbf{CGHaus}$ sharing the same classes of weak equivalences. We will focus here on the model structure induced by the notion of Serre's fibration.

\begin{defin}
A map of topological spaces $p \colon X \to Y$ is said to be a \emph{Serre fibration} if, for each CW-pair $(X,A)$, the map $p$ has the RLP with respect to the inclusion $(X \times 0) \cup (A \times I) \to X \times I$.
\end{defin}

\begin{thm} \label{thm model structure top}
$\mathbf{CGHaus}$ has a model structure where
\begin{itemize}
\item weak equivalences are weak homotopy equivalences;
\item fibrations are Serre fibrations;
\item cofibrations are the maps with LLP with respect to acyclic fibrations.
\end{itemize}
\end{thm}

\begin{proof}
See \cite[Proposition 8.3]{dwsp}.
\end{proof}

\begin{prop}
With respect to the model structure of Theorem \ref{thm model structure top}, in $\mathbf{CGHaus}$ every object is fibrant and every cellular inclusion $A \to B$ is a cofibration.
\end{prop}

\begin{proof}
The first statement follows from \cite[Proposition 0.16]{hatcher}, while the second is a consequence of  \cite[Proposition 8.6]{dwsp}.
\end{proof}

\begin{prop}
If $A$ is a CW-complex, $A \times I$ is a cylinder object for $A$.
\end{prop}

\begin{proof}
Consider the inclusions $A \sqcup A \to A \times I$ at level $0$ and $1$. This is a cofibration because it is a cellular inclusion. On the other side, the projection $p \colon A \times I \to A$ is a homotopy equivalence, hence also a weak homotopy equivalence. Moreover, it is easily shown to be a Serre fibration.
\end{proof}

Using this result we can also identify the homotopy relation for maps starting from a CW-complex:

\begin{cor}
If $A$ is a CW-complex and $f,g \colon A \to X$ are continuous map, then $f$ is homotopic to $g$ in the sense of Definition \ref{def left homotopy} if and only if they are homotopic in the topological sense.
\end{cor}

\subsection{Simplicial sets}

Simplicial sets are at the core of homotopy theory, both in the classical and in the abstract one. From a classical perspective, simplicial sets can be used to construct an equivalent theory of homotopy types; even though it could be harder to work out the details of the constructions from this point of view, it is a fact that the resulting theory is completely combinatorial and, therefore, it is easier to be controlled. In a sense, the construction of homotopy types out of simplicial sets is more minimal than the one obtained starting with (nice) topological spaces.

From the point of view of abstract homotopy theory, instead, simplicial sets play a major role because they can be used to codify the higher categorical content of a model category. More explicitly, we already discussed the fact that the possibility of defining (higher) homotopies between maps in a model category $\mathcal M$ is a hint of the fact that $\mathcal M$ presents somehow an $(\infty,1)$-category. Given two objects $X$ and $Y$ in a model category $\mathcal M$, it is natural to look for ``spaces'' parametrizing all the higher homotopies between $X$ and $Y$. We will see in the section concerning mapping spaces that a natural way to formalize the previous idea leads to construct such spaces as simplicial sets. We therefore tend to think that simplicial sets stand to homotopy theory as much as sets stands to classical geometry (i.e.\ geometry which doesn't involve homotopies).

Quillen first proved that $\sSet$ can be endowed with a model structure; the proof usually given nowadays is not undergone to major simplifications, and it remains a difficult proof, which is far beyond the scope of these notes.

\begin{thm} \label{thm model structure on sset}
The following classes of maps in $\sSet$ define a model structure:
\begin{itemize}
\item a map $f \colon F \to G$ is a weak equivalence if and only if its geometric realization (cfr. Section \ref{geometric realization}) $|f| \colon |F| \to |G|$ is a weak homotopy equivalence;
\item fibrations are Kan fibrations (cfr. Definition \ref{def kan fibration});
\item cofibrations are monomorphisms.
\end{itemize}
Moreover, this model structure is cofibrantly generated and we can take as set of generating cofibrations the maps $\{\partial \Delta^n \to \Delta^n\}$ and as generating trivial cofibrations the maps $\{\Lambda^n_i \to \Delta^n\}$.
\end{thm}

\begin{proof}
See \cite[Theorem I.11.3]{gj}.
\end{proof}

Cylinder and path objects are sufficiently close to our imagination:

\begin{prop}
If $K \in \sSet$ is a simplicial set, $K \times \Delta^1$ is a cylinder object for $K$.
\end{prop}

\begin{proof}
For $e \in \{0,1\}$ define the maps $\mathrm{in}_e \colon K \to K \times \Delta^1$ by
\[
\xymatrix{
& K \\
K \ar@/^.5pc/[ur]^{\mathrm{id}_K} \ar@/_.5pc/[dr]_{f_e} \ar[r]^-{\mathrm{in}_e} & K \times \Delta^1 \ar[u]^p \ar[d]^q \\ & \Delta^1
}
\]
where $f_e \colon K \to \Delta^0 \xrightarrow{d^e} \Delta^1$. This gives an injective map
\[
i \colon K \sqcup K \to K \times \Delta^1
\]
Then
\begin{gather*}
p \circ i \circ i_0 = p \circ \mathrm{in}_0 = \mathrm{id}_K \\
p \circ i \circ i_1 = p \circ \mathrm{in}_1 = \mathrm{id}_K
\end{gather*}
which shows that $p \circ i$ is a factorization of the fold map $\nabla \colon K \sqcup K \to K$. Since $i$ is injective, it is also a cofibration. Since geometric realization commutes with products, we obtain that
\[
|p| \colon |K| \times |\Delta^1| \to |K|
\]
which is a homotopy equivalence ($|\Delta^1|$ is contractible), hence $p$ is a weak equivalence.
\end{proof}

\begin{rmk}
Observe that the projection map $K \times \Delta^1 \to K$ is not a Kan fibration in general, because $\Delta^n$ is not a Kan complex.
\end{rmk}

\begin{exercise}
Let $K$ be a fibrant simplicial set. Show that $\mathbf{hom}(\Delta^1,K)$ is a path object for $K$ (\emph{hint}: to show that the natural map $\mathbf{hom}(\Delta^1, K) \to K \times K$ is a Kan fibration, it will be convenient to use Corollary \ref{cor anodyne 3} applied to the cofibration $\partial \Delta^1 \to \Delta^1$ and to the fibration $K \to *$).
\end{exercise}

\subsection{Chain complexes over $\Mod_R$} \label{chain complexes}

Chain complexes over an arbitrary base ring are the last building block we will need throughout these notes; since this is a purely algebraic example, it is much easier to do computations here than in the previous examples and we will often come back to this example as a testing ground for new homotopical notions. As the reader will proceed with these notes, he will realize that this is a really rich example, exactly as simplicial sets (the existence of the Dold-Kan equivalence should be seen as a motivation for this statement).

We will adopt a \emph{cohomological notation} (as in \cite{hagII}) and we will consider two different categories of chain complexes: the bounded above and the unbounded ones. For all the basic definitions concerning chain complexes we will refer to the first chapter of \cite{weibel}.

\begin{defin}
A morphism of complexes $f \colon M^\bullet \to N^\bullet$ is said to be a \emph{quasi-isomorphism} if, for each $n \in \N$, $H_i(f) \colon H_i(M_\bullet) \to H_i(N_\bullet)$ is an isomorphism.
\end{defin}

For each $R$-module $A$ and each $n \in \Z$ define the complex $D^n(A)$ by
\[
(D^n(A))^i \coloneqq \begin{cases} A & \text{if } i = n,n+1 \\ 0 & \text{otherwise.} \end{cases}, \qquad d^i = \begin{cases}  \mathrm{id}_A & \text{if } i = n \\ 0 & \text{otherwise.} \end{cases}
\]
Similarly, define the complex $S^n(A)$ by
\[
(S^n(A))^i \coloneqq \begin{cases} A & \text{if } i = n \\ 0 & \text{otherwise.} \end{cases}
\]

\begin{thm} \label{thm model structure unbounded complexes}
Let $R$ be a ring. The category of chain complexes $\ch(R)$ admits a \emph{projective model structure}, where:
\begin{itemize}
\item a map is a weak equivalence if and only if it is a quasi-isomorphism;
\item a map $f \colon M^\bullet \to N^\bullet$ is a cofibration if and only if such that $f^n$ is a monomorphism with projective cokernel for every $n \in \Z$;
\item a map $f \colon M^\bullet \to N^\bullet$ is a fibration if and only if it is an epimorphism in every degree.
\end{itemize}
Moreover, if we let $I$ be the set of maps $S^n(R) \to D^n(R)$ and $J$ be the set of maps $0 \to D^n(R)$, for $n \in \Z$ we have that the previous model structure is cofibrantly generated and $I$ is a set of generating cofibrations.
\end{thm}

\begin{proof}
The proof is not hard, and it can be obtained by checking that the hypothesis of Theorem \ref{thm recognizing} are satisfied. We refer to \cite[Theorem 2.3.11]{hovey} for the details.
\end{proof}

\begin{rmk}
$\ch(R)$ admits another cofibrantly generated model structure (the \emph{injective} one), whose cofibrations are degreewise monomorphisms and whose weak equivalences are again quasi-isomorphisms. We refer to \cite[Theorem 2.3.13]{hovey} for a detailed description and a proof of the existence. We only remark that the proof of this theorem is somehow more difficult than the one of Theorem \ref{thm model structure unbounded complexes}, and a cardinality argument (sometimes called the \emph{Bousfield-Kan cardinality argument}) is involved. We will meet this argument again later in these notes, so we postpone the discussion until that point.
\end{rmk}

We said at the beginning of this example that it is also possible to endow $\ch_{\le 0}(R)$ with a model structure. In this case, the argument goes back to Quillen \cite{quillen}:

\begin{thm} \label{thm model structure on bounded complexes}
The category of bounded above complexes $\ch_{\le 0}(R)$ has a cofibrantly generated model structure (the projective model structure), where:
\begin{itemize}
\item a map is a weak equivalence if and only if it is a quasi-isomorphism;
\item a map $f \colon M^\bullet \to N^\bullet$ is a fibration if and only if $f^n$ is surjective for every $n < 0$;
\item a map $f$ is a cofibration if and only if it is a degreewise monomorphism.
\end{itemize}
A set of generating cofibrations is given by the maps $\{S^n(R) \to D^n(R)\}_{n < 0}$ and a set of generating fibrations is given by the maps $\{0 \to D^n(R)\}_{n < 0}$.
\end{thm}

\begin{proof}
See \cite[Theorem 7.2]{dwsp}.
\end{proof}

\begin{rmk}
We will see at the end of this chapter how to recover the model structure on bounded complexes from the model structure on unbounded ones via a Bousfield localization. It is perhaps a bit more surprising that we can recover also the model structure on the unbounded complexes starting from the model structure on the bounded ones: the process is that of taking \emph{spectra} and it will be discussed in the Interlude about higher algebra.
\end{rmk}

\begin{rmk}
Observe that the homotopy categories of $\ch(R)$ and of $\ch_{\le 0}(R)$ are precisely the derived categories $\mathrm{D}(R)$ and $\mathrm{D}^b(R)$. This follows from the definition of the weak equivalences.
\end{rmk}

\begin{eg}
Consider the projective model structure on the bounded above complexes $\ch(R)_{\le 0}$. For each $R$-module $A$, seen as a complex concentrated in degree $0$, let $(P^\bullet,f)$ be a cofibrant replacement for $A$. The map $f \colon P^\bullet \to A$ is a quasi-isomorphism; in particular $P^\bullet$ is exact in strictly positive degrees. Moreover, it is cofibrant, hence each object is projective. It follows that $P^\bullet$ is a \emph{projective resolution} of $A$.
\end{eg}

From this moment on we will work with the projective model structure on \emph{unbounded} chain complexes. Recall that $\ch(R)$ can be endowed with a monoidal structure whose tensor product is defined by
\[
A^\bullet \otimes B^\bullet \coloneqq \tot^\oplus(A^\bullet \otimes_R B^\bullet)
\]
where $A^\bullet \otimes_R B^\bullet$ denotes the natural double complex obtained by tensoring objectwise $A^\bullet$ and $B^\bullet$. Introduce now the complex
\[
\Delta^1_R \colon \ldots \to 0 \to 0 \to R \xrightarrow{d} R^2 \to 0 \to \ldots
\]
where $R^2$ is in degree $0$ and
\[
d = \begin{pmatrix} - \mathrm{id}_R \\ \mathrm{id}_R \end{pmatrix}
\]
Consider moreover the map
\begin{equation} \label{eq cylinder chain complex}
h \colon \Delta^1_R \to S^0(R)
\end{equation}
defined by the condition
\[
h^0 = \begin{pmatrix} \mathrm{id}_R & \mathrm{id}_R \end{pmatrix}
\]

\begin{exercise}
Show that $h$ is a chain equivalence.
\end{exercise}

%We claim that $h_\bullet$ is a chain-equivalence. In fact, consider the map
%\[
%g \bullet \colon K(R,0) \to \Delta^1_R
%\]
%defined in degree $0$ to be
%\[
%g_0 = \begin{pmatrix} \mathrm{id}_R \\ 0 \end{pmatrix}
%\]
%and $g_n = 0$ for $n > 0$. Then setting $f_\bullet\coloneqq g_\bullet \circ h_\bullet$ we obtain the following map:
%\[
%\xymatrix{
%\cdots \ar[r] & R \ar[d]_0 \ar[r]^{\scriptstyle \begin{pmatrix} - \mathrm{id} \\ \mathrm{id} \end{pmatrix}} & R^2 \ar[d]^{\scriptstyle \begin{pmatrix} \mathrm{id} & \mathrm{id} \\ 0 & 0 \end{pmatrix}} \ar@{.>}[dl]|-s \\ \cdots \ar[r] & 0 \ar[r]_{\scriptstyle \begin{pmatrix} - \mathrm{id} \\ \mathrm{id} \end{pmatrix}} & R^2
%}
%\]
%Using as basis for $R^2$ the vectors
%\[
%u_0\coloneqq \begin{pmatrix}
%-1 \\ 1
%\end{pmatrix}, \quad u_1\coloneqq \begin{pmatrix} 1 \\ 0 \end{pmatrix}
%\]
%define $s \colon R^2 \to R$ by the conditions
%\[
%s(u_0) = 1, \quad s(u_1) = 0
%\]
%Then a routine check shows that $s$ is the required chain homotopy between $f_\bullet$ and $\mathrm{id}_{\Delta^1_R}$. Since $h_\bullet \circ g_\bullet = \mathrm{id}_{K(R,0)}$, we completely proved our statement.

\begin{lemma}
Let $A^\bullet$ be a cofibrant object in $\ch(R)$. Then $A^\bullet \otimes \Delta^1_R$ is a cylinder object for $A^\bullet$. More generally, let $A^\bullet$ be any object in $\ch(R)$ and let $(\widetilde{A}^\bullet,f)$ be a cofibrant approximation of $A_\bullet$; then $\widetilde{A}^\bullet \otimes \Delta^1_R$ is a cylinder object for $A_\bullet$.
\end{lemma}

\begin{proof}
Explicitly
\[
(A^\bullet \otimes \Delta^1_R)^n = A^{n-1} \oplus A^n \oplus A^n
\]
and the differential is given by
\[
\begin{pmatrix}
- d & 0 & 0 \\ \mathrm{id} & d & 0 \\ - \mathrm{id} & 0 & d
\end{pmatrix}
\]
Let's consider the map $g \colon A^\bullet \otimes \Delta^1_R \to A_n$ defined by
\[
g^n = \begin{pmatrix} \mathrm{id} & 0 & \mathrm{id} \end{pmatrix}
\]
Introduce also $f \colon B^\bullet \oplus B^\bullet \to A^\bullet \otimes \Delta^1_R$ setting
\[
f^n = \begin{pmatrix} \mathrm{id} & 0 \\ 0 & 0 \\ 0 & \mathrm{id} \end{pmatrix}
\]
Inspection shows that $f$ and $g$ are chain maps. Moreover, they factorize the fold map
\[
\nabla \colon B^\bullet \oplus B^\bullet \to B^\bullet
\]
The map $g$ is clearly surjective in every degree; in particular it is a fibration. Moreover, it is a quasi-isomorphism: using the map $h$ of \eqref{eq cylinder chain complex}
\[
\mathrm{id} \otimes h \colon B^\bullet \otimes \Delta^1_R \to B^\bullet \otimes S^0(R) \simeq B^\bullet
\]
which is still a chain equivalence. Finally, $f$ is a cofibration because $A^\bullet$ is assumed to be cofibrant.
\end{proof}

\begin{rmk}
Observe that $A_\bullet \otimes \Delta^1_R$ is, in the notations of \cite[Section 1.5]{weibel}, the mapping cylinder of $\mathrm{id}_{A_\bullet}$.
\end{rmk}

\begin{cor}
Let $A^\bullet$ be a cofibrant object in $\ch(R)$; let $f, g \colon A^\bullet \to B^\bullet$ be two chain-maps. Then a left homotopy from $f$ to $g$ is precisely a chain-homotopy.
\end{cor}

\begin{prop}
$\Hom_{\mathrm{Ho}(\ch(R))}(S^n(A),S^m(B)) = \Ext_R^{m-n}(A,B)$.
\end{prop}

\begin{proof}
If $n = 0$ and $m > 0$, choose a cofibrant replacement for $S^0(A)$; as we saw, this is a projective resolution $P_\bullet \to A$. Then $P_\bullet$ is cofibrant, hence left homotopy on
\[
\Hom_{\ch(R)}(P_\bullet, S^m(B)) = \{\alpha \colon P_m \to B \mid \alpha \circ d = 0 \}
\]
coincides with chain homotopy. This is exactly the homology of
\[
\Hom_R(P_{m+1},B) \to \Hom_R(P_m,B) \to \Hom_R(P_{m-1},B)
\]
i.e.\ $\Ext^m_R(A,B)$.
\end{proof}

\subsection{Groupoids} \label{model structure on groupoids}

This is a lesser example, but it will be useful at some point and therefore we state it in order to refer back to it. Recall that a groupoid is a category where every arrow is invertible. Examples are given by $\Delta^0_{\grpd}$, the category with only one element and the identity morphism, and $\Delta^1_{\grpd}$, sometimes called the \emph{walking isomorphism}, which is the category with two objects and a unique isomorphism between them.

\begin{thm} \label{thm model structure on groupoids}
The category of groupoids $\grpd$ has a model structure where
\begin{itemize}
\item weak equivalences are equivalences of categories;
\item fibrations are the functors with the RLP with respect to the map $\Delta^0_{\grpd} \to \Delta^1_{\grpd}$;
\item cofibrations are functors which are injections on objects.
\end{itemize}
\end{thm} %\checkthis{The adjunction (fundamental groupoid, nerve) is a Quillen equivalence?}

\begin{proof}
It is an exercise left to the reader.
\end{proof}

\begin{prop} \label{prop cylinder for groupoids}
Let $\mathcal G$ be a groupoid. A cylinder object for $\mathcal G$ is $\mathcal G \times \Delta^1_{\grpd}$.
\end{prop}

\begin{proof}
We obviously have maps for $k \in \{0,1\}$
\[
\mathrm{in}_k \colon \mathcal G \to \mathcal G \times \{k\} \subset \mathcal G \times \Delta^1_{\grpd}
\]
inducing a map $i \colon \mathcal G \sqcup \mathcal G \to \mathcal G \times \Delta^1$, which is clearly injective on objects and hence a cofibration. The canonical projection map
\[
\mathcal G \times \Delta^1 \to \mathcal G
\]
is obviously a fibration and an equivalence of categories. Therefore we have a cylinder object.
\end{proof}

\begin{cor}
Let $F_1,F_2 \colon \mathcal G \to \mathcal H$ be functors between groupoids. They are left homotopic if and only if there is a natural transformation (hence a natural isomorphism) between them.
\end{cor}

\begin{proof}
This is an easy consequence of Proposition \ref{prop cylinder for groupoids} (using a standard reformulation of natural transformation).
\end{proof}

\begin{rmk}
Strangely enough, it is possible to show that the model structure on $\grpd$ is \emph{uniquely determined} by its weak equivalences. The same proof given at \url{http://sbseminar.wordpress.com/2012/11/16/the-canonical-model-structure-on-cat/} adapts in fact to this case.
\end{rmk}

%\subsection{Categories} \label{model structure on cat}
%
%The category of all small categories $\Cat$ has a model structure which doesn't differ much from that of groupoids. However, we state it as a theorem for future references:
%
%\begin{thm} \label{thm model structure on cat}
%$\Cat$ has a model structure where:
%\begin{itemize}
%\item weak equivalences are equivalences of categories;
%\item cofibrations are functors injective on objects;
%\item fibrations are functors with the RLP with respect to the map $\Delta^0_{\grpd} \to \Delta^1_{\grpd}$.
%\end{itemize}
%\end{thm}

\section{Quillen adjunctions and total derived functors}

The goal of this section is to introduce a notion of morphism between model categories. It is a subtle question to decide how much of the model structure must be preserved by a functor; the na\"if idea is probably to consider functors $F \colon \mathcal M \to \mathcal N$ sending fibrations, cofibrations and weak equivalences of $\mathcal M$ in their correspondents of $\mathcal N$. However, it turns out that this notion is too much restrictive, and there aren't many examples of such functors.

What is really done is to consider adjunction pairs $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$, where $F$ is required to preserve cofibrations and $G$ is required to preserve fibrations. It is easy to give several different formulations of this property; the result is what it's called a \emph{Quillen adjunction}. First of all, we will describe these different reformulations; next, we will give the notion of \emph{Quillen equivalence}. In the subsequent paragraph, dedicated to the notion of derived functor, we explain how a Quillen adjunction induces an adjunction between the homotopy categories and we prove that this is an equivalence if the starting adjunction was a Quillen equivalence.

We chose this order for the exposition because it seems us more logic: it is known that Quillen equivalences preserve many other constructions a part from the homotopy category; for example, they preserve also mapping spaces.

\subsection{Quillen adjunctions and equivalences}

\begin{defin}
Let $\mathcal M, \mathcal N$ be model categories. An adjoint pair
\[
F \colon \mathcal M \rightleftarrows \mathcal N \colon G
\]
is said to be a Quillen adjunction if:
\begin{enumerate}
\item $F$ preserves cofibrations;
\item $G$ preserves fibrations.
\end{enumerate}
\end{defin}

\begin{lemma} \label{lemma adjunction and lifting properties}
Let $(F,G,\varphi) \colon \mathcal A \to \mathcal B$ be an adjunction of categories. Let $f \colon A_1 \to A_2$ be an arrow in $\mathcal A$ and $g \colon B_1 \to B_2$ be an arrow in $\mathcal B$; then $f$ has the LLP with respect to $G(g)$ if and only if $g$ has the RLP with respect to $F(f)$.
\end{lemma}

\begin{proof}
This is a straightforward exercise in category theory and it is left to the reader.
\end{proof}

%\begin{proof}
%Recall that in our notations $\varphi$ is the natural isomorphism
%\[
%\varphi_{A,B} \colon \Hom_{\mathcal B}(F(A),B) \to \Hom_{\mathcal A}(A,G(B))
%\]
%Consider the two commutative diagrams
%\[
%\xymatrix{
%A_1 \ar[d]_f \ar[r]^-\alpha & G(B_1) \ar[d]^{G(g)} \\ A_2 \ar[r]_-{\beta} \ar@{.>}[ur]^h & G(B_2)
%} \qquad
%\xymatrix{
%F(A_1) \ar[d]_{F(f)} \ar[r]^-\gamma & B_1 \ar[d]^g \\ F(A_2) \ar@{.>}[ur]^k \ar[r]_-\delta & B_2
%}
%\]
%Assume that $f$ has the RLP with respect to $G(g)$. Starting with the diagram on the right, set $\alpha = \varphi(\gamma)$, $\beta = \varphi(\delta)$; the diagram on the left commutes thanks to adjunction properties. Therefore there is a diagonal lifting $h \colon A_2 \to G(B_1)$; write $\psi$ for $\varphi^{-1}$. Then
%\[
%\psi(h) \colon F(A_2) \to B_1
%\]
%and
%\begin{gather*}
%\alpha = \psi(\varphi(\alpha)) = \psi(h \circ f) = \psi(h) \circ F(f) \\
%\beta = \psi(\varphi(\beta) = \psi(G(g) \circ h) = g \circ \psi(h)
%\end{gather*}
%The other statement is dual.
%\end{proof}

\begin{eg} \label{eg groupoids}
The adjoint pair $\pi_f \colon \sSet \rightleftarrows \grpd \colon N$ of Theorem \ref{thm nerve adjunction 2} is a Quillen pair. In fact ... (this is essentially the content of \cite[Lemma 3.3]{hollander})
\end{eg}

\begin{cor} \label{cor Quillen pair}
Let $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$ be an adjunction between model categories. The following statements are equivalent:
\begin{enumerate}
\item $(F,G)$ is a Quillen pair;
\item $F$ preserves cofibrations and acyclic cofibrations;
\item $G$ preserves fibrations and acyclic fibrations;
\item $F$ preserves acyclic cofibrations and $G$ preserves acyclic fibrations.
\end{enumerate}
\end{cor}

\begin{cor}
Let $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$ be a Quillen pair. Then $F$ takes weak equivalences between cofibrant objects in weak equivalences. Dually, $G$ takes weak equivalences between fibrant objects in weak equivalences.
\end{cor}

\begin{proof}
This follows from Lemma \ref{lemma Ken Brown} and Corollary \ref{cor Quillen pair}.
\end{proof}

\begin{defin}
Let $(F,G,\varphi) \colon \mathcal M \to \mathcal N$ be a Quillen pair. We say that it is a \emph{Quillen equivalence} if for every cofibrant object $A \in \Ob(\mathcal M)$ and each fibrant object $X \in \Ob(\mathcal N)$ a map $f \colon A \to G(X)$ is a weak equivalence if and only if $\varphi(f) \colon F(A) \to X$ is a weak equivalence.
\end{defin}

\subsection{Derived functor}

\begin{defin}
Let $\mathcal M$ be a model category and let $F \colon \mathcal M \to \mathcal C$ be any functor. We call the right Kan extension of $F$ along $\gamma \colon \mathcal M \to \text{Ho}(\mathcal M)$ the left derived functor of $F$. We will denote it by $(\mathbf LF,t)$. Dually, we call the left Kan extension of $F$ along $\gamma \colon \mathcal M \to \text{Ho}(\mathcal M)$ the right derived functor of $F$; we will denote it by $(\mathbf RF,s)$.
\end{defin}

\begin{rmk}
If $F \colon \mathcal M \to \mathcal C$ sends weak equivalences to isomorphisms, then the left derived functor exists because of the universal property of the localization. However, this is not necessary. %\expandthis{More details}
\end{rmk}

\begin{thm} \label{thm existence derived functor}
Let $\mathcal M$ be a model category and let $F \colon \mathcal M \to \mathcal C$ be any functor. If $F$ sends acyclic cofibrations between cofibrant objects to isomorphisms, then the left derived functor of $F$ exists.
\end{thm}

\begin{proof}[Sketch of the proof.] (The details can be found in \cite[Theorem 2.2.8]{riehl}) Introduce a deformation retraction $(Q,s)$ of $\mathcal M$ onto $\mathcal M_c$ as in the proof of Proposition \ref{prop reduction step}. Then we can fix a representative for the localization considering
\[
\gamma\coloneqq \gamma_c \circ Q \colon \mathcal M \to \mathcal M_c \to \mathrm{Ho}(\mathcal M_c)
\]
where $\gamma_c \colon \mathcal M_c \to \mathrm{Ho}(\mathcal M_c)$ is the localization functor for $\mathcal M_c$.

Consider $F \circ j_c \colon \mathcal M_c \to \mathcal C$; by hypothesis $F \circ j_c$ sends trivial cofibrations to isomorphisms; Ken Brown's Lemma \ref{lemma Ken Brown} implies that $F \circ j_c$ sends every weak equivalence to an isomorphism. Universal property of $\mathrm{Ho}(\mathcal M_c)$ produces then a factorization of $F \circ j_c$ as $\widetilde{F} \circ \gamma_c$:
\[
\xymatrix{
\mathcal M_c \ar@<-.5ex>[d]_{j_c} \ar[r]^-{\gamma_c} & \mathrm{Ho}(\mathcal M_c) \ar[d]^{\widetilde{F}} \\ M \ar@<-.5ex>[u]_Q \ar[ur]|-\gamma \ar[r]_F & \mathcal C
}
\]
together with a universal natural isomorphism $\varepsilon \colon \widetilde{F} \circ \gamma_c \to F \circ j_c$. Using the natural transformation $s \colon j_c \circ Q \to \mathrm{Id}_{\mathcal M}$ we obtain a natural transformation
\[
(Fs) \cdot \varepsilon_Q \colon \widetilde{F} \gamma \to F
\]
We claim that $(\widetilde{F}, (Fs) \cdot \varepsilon_Q)$ is a left derived functor of $F$. Let $G \colon \mathrm{Ho}(\mathcal M_c) \to \mathcal C$ be any functor and let
\[
\alpha \colon G \gamma \to F
\]
be a natural transformation. Consider $\alpha_{j_c} \colon G \gamma j_c \to F j_c$ and denote $s_c$ the restriction of $s$ to $\mathcal M_c$.\footnote{Observe that $s_c$ defines a natural transformation $Q \circ j_c \to \mathrm{Id}_{\mathcal M_c}$.} Since $\gamma$ sends weak equivalences to isomorphisms, it follows that $G \gamma s_c \colon G \gamma j_c \to G \gamma_c$ is a natural isomorphism. Therefore we have a chain of isomorphisms:
\[
\mathrm{Nat}(G \gamma j_c, F j_c) \simeq \mathrm{Nat}(G\gamma_c, F j_c) \simeq \mathrm{Nat}(G, \widetilde{F})
\]
which produces a unique natural isomorphism $\beta \colon G \to \widetilde{F}$ such that
\[
\varepsilon \cdot \beta_{\gamma_c} = \alpha_{j_c} \cdot (G \gamma s_c)^{-1}
\]
We have to check
\[
Fs \cdot \varepsilon_Q \cdot \beta_\gamma = \alpha
\]
Unravelling the definitions we get
\begin{align*}
(Fs) \cdot \varepsilon_Q \cdot (\beta_{\gamma_c})_Q & = (Fs)_Q \cdot (\varepsilon \cdot \beta \gamma_c)_Q \\
& = (Fs)_Q \cdot \alpha_{j_c Q} \cdot (G \gamma s_c)^{-1}_Q \\
& = ((Fs) \cdot \alpha)_Q \cdot (G \gamma s_c)^{-1}_Q
\end{align*}
Our thesis is thus equivalent to
\[
\alpha \cdot (G \gamma s_c)_Q = ((Fs) \cdot \alpha)_Q
\]
which holds by the very definition of natural transformation. Uniqueness of $\beta$ is similarly proved.
\end{proof}

\begin{eg}
Let $R, S$ be (commutative) rings; let $F \colon \Mod_R \to \Mod_S$ be an additive functor. This induces an additive functor
\[
F \colon \ch(R) \to \ch(S)
\]
obviously preserving chain homotopies. Since in the (projective) model structure on $\ch(R)$ every object is fibrant, it follows that every quasi-isomorphism between cofibrant objects (i.e. complexes of projective modules) is a homotopy equivalence; in particular it is preserved by $F$. This gives rise to a total left derived functor
\[
\mathbf L F \colon \mathcal K(R) \to \mathcal K(S)
\]
If $F$ is not right exact, the composition $H_0 \circ \mathbf L F \circ \deg_0$ doesn't need to be isomorphic to $F$. However, note that the functors $\{H_i \circ \mathbf LF \circ \deg_0\}_{i \in \mathbb N}$ do form a homological $\delta$-functor.
\end{eg}

\begin{thm} \label{thm quillen adjuntion}
Let $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$ be a Quillen pair. Then both the left derived functor $\mathbf L F$ and the right derived functor $\mathbf R G$ exist and they form an adjoint pair
\[
\mathbf L F \colon \mathrm{Ho}(\mathcal M) \rightleftarrows \mathrm{Ho}(\mathcal N) \colon \mathbf R G
\]
which is an adjoint equivalence if $(F,G)$ is a Quillen equivalence.
\end{thm}

\begin{proof}[Sketch of the proof]
The existence of $\mathbf L F$ and $\mathbf R G$ is implied by Theorem \ref{thm existence derived functor}, its dual, and Corollary \ref{cor Quillen pair}. Unit and counit pass to the localization; if $(F,G)$ is a Quillen equivalence, unit and counit are weak equivalences, and they induces isomorphisms in the homotopy categories, giving rise to an adjoint equivalence.
\end{proof}

\begin{eg}
Consider the geometric realization functor $|\cdot| \colon \sSet \to \cghaus$; we know that $|\cdot|$ is left adjoint to the singular complex functor $\sing \colon \cghaus \to \sSet$. Moreover, $|\cdot|$ preserves cofibrations (an inclusion of simplicial sets is sent to a cellular inclusion of CW-complexes) and trivial cofibrations (by definition, a map of simplicial sets is a weak equivalence if and only if its geometric realization is a weak equivalence in $\cghaus$). It follows that $(|\cdot|,\sing)$ is a Quillen pair. Moreover, a map $f \colon S \to \sing(X)$ is a weak equivalence if and only if $|f| \colon |S| \to |\sing(X)|$ is a weak equivalence; however, a classical result states that the counit $|\sing(X)| \to X$ is always a weak equivalence;\footnote{See for example \cite[Theorem 16.6]{may}.} it follows that $f$ is a weak equivalence if and only if the adjoint map $|S| \to X$ is a weak equivalence. Therefore $(|\cdot|,\sing)$ is a Quillen equivalence, and induce an equivalence between $\mathrm{Ho}(\sSet)$ and $\mathrm{Ho}(\cghaus)$.
\end{eg}

\subsection{Lifting principle}

Sometimes it is possible to force a model structure on a category by declaring that a certain adjunction toward a (sufficiently nice) model category is a Quillen adjunction. This goes under the name of \emph{lifting principle} and it goes back to Quillen \cite{quillen}, where he used this idea (in fact, a many-adjunction variant) to show that the category of simplicial objects in a category can often be endowed with a model structure deduced from that of simplicial sets. Here, we give a possible statement of the lifting principle and deduce its proof from Theorem \ref{thm recognizing}.

\begin{thm} \label{thm lifting}
Let $\mathcal M$ be a cofibrantly generated model category and let
\[
\{F_s \colon \mathcal M \rightleftarrows \mathcal N \colon U_s\}_{s \in S}
\]
be a family of adjunctions parametrized by the set $S$. Let $I$ and $J$ be sets of generating cofibrations and generating trivial cofibrations for $\mathcal M$. Write
\[
I_{\mathcal N} := \bigcup_{s \in S} F_s(I), \qquad J_{\mathcal N} := \bigcup_{s \in S} F_s(J)
\]
If
\begin{enumerate}
\item $I_{\mathcal N}$ and $J_{\mathcal N}$ permit the small object argument;
\item each $U_s$ takes elements of $\cofreg{J_{\mathcal N}}$ in weak equivalences;
\end{enumerate}
then $\mathcal N$ has a cofibrantly generated model structure where a map $f \colon A \to B$ is
\begin{enumerate}
\item a weak equivalence if and only if $U_s(f)$ is a weak equivalence for each $s \in S$;
\item a fibration if and only if $U_s(f)$ is a weak equivalence for each $s \in S$;
\item a cofibration if and only if it belongs to $\llp{(\rlp{I_{\mathcal N}})}$.
\end{enumerate}
Moreover, if this is the case $I_{\mathcal N}$ and $J_{\mathcal N}$ are sets of generating cofibrations and generating trivial cofibrations respectively, and each adjunction $F_s \dashv G_s$ is a Quillen pair.
\end{thm}

\begin{proof}
We leave as an exercise the reduction to the case of a single adjunction. Let $W$ be the class of maps of $\mathcal N$ taken into weak equivalences by $U$. Let us show that $W$, $F(I)$ and $F(J)$ satisfy the conditions of Theorem \ref{thm recognizing}. It is clear that $W$ is closed under retracts and that it satisfies the 2-out-of-3 axiom and condition 2. holds by hypothesis.

Let us prove conditions 3. and 4.: adjoint nonsense implies that
\[
\llp{F(J)} = \{f \in \mathrm{Arr}(\mathcal N) \mid U(f) \in \rlp{J}\}
\]
Since $\rlp{I} = \fib_{\mathcal M} \cap W \subseteq \rlp{I}$ we get
\[
\rlp{F(I)} \subseteq \rlp{F(J)}
\]
and so it follows
\[
\llp{(\rlp{F(J)})} \subseteq \llp{(\rlp{F(I)})}
\]
To get condition 3., we are left to show $\llp{(\rlp{F(J)})} \subseteq W$; the small object argument shows that an arrow $f \in \llp{(\rlp{F(J)})}$ is a retract of an arrow in $\cofreg{F(J)}$, hence our hypothesis 2. implies that $U(f)$ is a retract of a weak equivalence, so that $f \in W$. To get condition 4., we have to show that $\rlp{F(I)} \subset W$; if $f \in \rlp{F(I)}$ then $U(f) \in \rlp{I}$, i.e. $U(f)$ is a trivial fibration in $\mathcal M$; in particular $f \in W$.

Now, if $f$ is a fibration in the model structure on $\mathcal N$ if and only if it has the right lifting property with respect to every element in $F(J)$; by adjoint nonsense, this is equivalent to $U(f)$ having the right lifting property with respect to every element of $J$. It follows that $f$ is a fibration if and only if $U(f)$ is a fibration and also that $U$ is a left Quillen functor.
\end{proof}

The following corollary gives some easy conditions on the adjunctions guaranteeing that the hypotheses of Theorem \ref{thm lifting} are satisfied:

\begin{cor} \label{cor SLP} %simplified lifting principle
Let $\mathcal M$ be a cofibrantly generated model category and let
\[
\{F_s \colon \mathcal M \rightleftarrows \mathcal N \colon U_s\}_{s \in S}
\]
be a family of adjunctions parametrized by a set $S$. If, with the notations of Proposition \ref{prop GLP}, the following conditions are met:
\begin{enumerate}
\item the functor $U_s$ commutes with sequential colimits for every $s \in S$;
\item the functor $U_s$ takes elements of $\cofreg{I_{\mathcal N}}$ in cofibrations for every $s \in S$;
\item the functor $U_s$ takes elements of $\cofreg{J_{\mathcal N}}$ in weak equivalences;
\end{enumerate}
then the hypotheses of Proposition \ref{thm lifting} are satisfied.
\end{cor}

\section{Homotopy limits and colimits} \label{homotopy limits}

\subsection{Motivations}

Since homotopy (co)limits are an important piece of the theory which is not quite trivial, they deserve some discussion. However, before getting down to business, let us say a few words about the organization of this section: after a motivational part, we will discuss a possible solution to the problem posed by the homotopy (co)limits, and this will involve the construction of the global projective model structure on diagrams. After that this is settled, we will analyse more carefully the situation for homotopy pullbacks and homotopy pushouts: we will obtain specific criteria allowing to do several computations and we will illustrate them. These two topics will be fundamental throughout these notes, but they can also be read without referring to homotopy (co)limits. Therefore, the reader may skip this section and refer back to it only when he needs to.

Let us now focus on the main topic of this section. As in the case of the homotopy category, it is possible to give two different kind of motivations for homotopy limits and colimits: a classical one, coming from algebraic topology and the theory of homotopy types, and a ``modern'' one, coming from the world of $(\infty,1)$-categories; we will briefly discuss them both. Beginning from a classical perspective, remember that we constructed the category of homotopy types as the homotopy category of (for example) compactly generated Hausdorff spaces, $\mathrm{Ho}(\mathbf{CGHaus})$. However, this category is not as well-behaved as one might hope; a basic issue is that this category is \emph{not} cocomplete (a counterxample can be found in \cite[Example 6.3.3]{riehl}). More subtlety, even when the colimits exist, they could be quite different from what we expect.

\begin{eg} \label{eg sphere suspension}
Consider the following diagram in $\mathbf{CGHaus}$:
\[
\xymatrix{
D^n \ar[d] & \mathcal S^n \ar[l] \ar@{=}[d] \ar[r] & D^n \ar[d] \\
{*} & \mathcal{S}^n \ar[l] \ar[r] & {*}
}
\]
Vertical arrows are weak homotopy equivalences, hence the two lines define the same diagram in $\mathrm{Ho}(\mathbf{CGHaus})$. In this case the pushout of the diagram exist, but it is the homotopy type of a point and it is different from the pushout of the first line (computed in $\mathbf{CGHaus}$), which is $\mathcal S^{n+1}$.
\end{eg}

The previous example shows that in general colimits do not pass to the homotopy category and suggests that an obstruction is given by their lack of homotopy invariance, in the sense that colimits of weakly equivalent diagrams\footnote{For the moment, we mean that there exists a morphism of diagrams which is an objectwise weak equivalence.} are not weakly equivalent. Homotopy limits and homotopy colimits were firstly conceived as a solution to these problems and were defined via the rather explicit \emph{Bousfield-Kan formulas}; the idea is that to recover the homotopy invariance we can modify a little the diagram before computing the usual (co)limit. To get a grasp of what kind of modifications could be needed, let us assume that $\mathcal C$ is a small category and $\mathcal M$ is a model category; let us assume furthermore that the category of diagrams $\mathcal M^{\mathcal C}$ can be endowed with a model structure where weak equivalences are defined objectwise. We know that the colimit functor $\colim \colon \mathcal M^{\mathcal C} \to \mathcal M$ is left adjoint to the diagonal functor $\Delta \colon \mathcal M \to \mathcal M^{\mathcal C}$. If this adjunction was a Quillen adjunction, the left derived functor of $\colim$ would exist; indeed if $Q$ is a cofibrant replacement functor for $\mathcal M^{\mathcal C}$, the functor
\[
\mathrm{hocolim} \coloneqq \colim \circ Q
\]
is homotopy invariant and therefore it has a total left derived functor. Therefore the ``small modifications of the diagram'' we were speaking about before are encoded in the functor $Q$. Bousfield-Kan formulas pass through an explicit (and rather elegant) choice of such a modification functor. However, to prove that their construction actually solves the problem would take some time and would go beyond the scope of these notes. We will therefore content ourselves with a thorough discussion of the abstract reasoning described above.

Another way of viewing homotopy (co)limits is from the $(\infty,1)$-categorical point of view. The reader familiar with the na\"if idea of higher categories will know that there are subtleties concerning limits and colimits in this setting. We can explain the difficulties as follows: suppose we are given a diagram, $F \colon \mathcal C \to \mathcal M$ where $\mathcal M$ is an $(\infty,1)$-category\footnote{The reader can safely assume that $\mathcal M$ is a model category for the moment.}; a colimit for this diagram should be a ``weakly universal cocone'' over some object $X$ of $\mathcal M$, in the sense that for any other cocone over $Y$ the space of maps from $X$ to $Y$ compatible with the two cocones is homotopically equivalent to a point. There are several ways of formalizing this rough idea, and we will discuss them in later chapters; the important point in here is that homotopy (co)limits answers correctly also to this problem. As we will see later, when passing from a model category to its associated $(\infty,1)$-category, homotopy (co)limits goes to $(\infty,1)$-(co)limits.

\subsection{The global projective model structure}

A key point in the informal reasoning we proposed above was the possibility of endowing a diagram category $\mathcal M^{\mathcal C}$ with a model structure satisfying certain constraints. Namely, we asked for weak equivalences to be defined objectwise and for the diagonal functor $\Delta \colon \mathcal C \to \mathcal M^{\mathcal C}$ to be either right or left Quillen (depending on whether we are interested in colimits or in limits). For example, an easy way to make $\Delta$ into a right Quillen fucntor is to require fibrations in $\mathcal M^{\mathcal C}$ to be defined objectwise.

A problem with this kind of approach is that such a model structure does not always exist on the category $\mathcal M^{\mathcal C}$. We only have sufficient conditions which can be cast either on the model category $\mathcal M$ or on the index category $\mathcal C$. In this section, we will show that whenever $\mathcal M$ is cofibrantly generated, there exists a model structure on $\mathcal M^{\mathcal C}$ allowing a theory of homotopy colimits. Other possibilities are given by requiring $\mathcal M$ to be combinatorial, or $\mathcal C$ to be Reedy; we will briefly discuss both later on in this chapter.

Under the assumption that $\mathcal M$ is cofibrantly generated, we are going to show the existence of a so-called \emph{global projective model structure}\footnote{The full meaning of this name will be clear in the chapter about simplicial presheaves.} on $\mathcal M^{\mathcal C}$; we will obtain this as a consequence of the lifting principle. The idea of the proof is to declare that the evaluation functors
\[
\mathrm{ev}_\alpha \colon M^{\mathcal C} \to \mathcal M, \quad \alpha \in \Ob(\mathcal C)
\]
are right Quillen functors. That is, the strategy is to show that $\mathrm{ev}_\alpha$ has a left adjoint and that the hypotheses of the lifting principle are satisfied. Since $\mathcal M$ is a cocomplete category, the copower defines a bifunctor
\[
- \otimes - \colon \Set \times \mathcal M \to \mathcal M
\]
such that for each $m \in \Ob(\mathcal M)$ the induced functor $- \otimes m \colon \Set \to \mathcal M$ has a right adjoint given by $\mathcal M(m,-)$. For any (small) category $\mathcal C$ we have an induced bifunctor
\[
- \otimes - \colon \Set^{\mathcal C} \times \mathcal M^{\mathcal C}
\]
Moreover, it is an exercise in formalism to show that for each $m \in \Ob(\mathcal M)$ the functor $- \otimes m \colon \Set^{\mathcal C} \to \mathcal M^{\mathcal C}$ has still a right adjoint given by
\[
\mathcal M(m,-) \colon \mathcal M^{\mathcal C} \to \Set^{\mathcal C}
\]
If we write down this adjunction we obtain
\[
\mathcal M^{\mathcal C}(S \otimes m, \mathcal Y) \simeq \Set^{\mathcal C}(S, \mathcal M(m, \mathcal Y))
\]
Choosing $S = \mathcal C(\alpha,-)$ for $\alpha \in \Ob(\mathcal C)$, the Yoneda lemma implies
\[
\mathcal M^{\mathcal C}(\mathcal C(\alpha,-) \otimes m, \mathcal Y) \simeq \mathcal M(m,\mathcal Y(\alpha))
\]
which shows that the adjunction
\[
\mathcal C(\alpha,-) \otimes - \dashv \mathrm{ev}_\alpha
\]
holds.

\begin{defin}
If $\mathcal M$ is a model category and $\mathcal C$ is a small category, we will say that a map $f \colon \mathcal X \to \mathcal Y$ in $\mathcal M^{\mathcal C}$ is:
\begin{enumerate}
\item an objectwise (or global) cofibration if $f_\alpha \colon \mathcal X(\alpha) \to \mathcal Y(\alpha)$ is a cofibration for every object $\alpha \in \Ob(\mathcal C)$;

\item an objectwise (or global) fibration if $f_\alpha \colon \mathcal X(\alpha) \to \mathcal Y(\alpha)$ is a fibration for every object $\alpha \in \Ob(\mathcal C)$;

\item an objectwise (or global) weak equivalence if $f_\alpha \colon \mathcal X(\alpha) \to \mathcal Y(\alpha)$ is a weak equivalence for every object $\alpha \in \Ob(\mathcal C)$.
\end{enumerate}
\end{defin}

\begin{defin}
Let $\mathcal C$ be a small category and let $\alpha \in \Ob(\mathcal C$. If $\mathcal M$ is a model category and $I$ is a set of maps in $\mathcal M$, then a free $I$-cell generated at $\alpha$ in $\mathcal M^{\mathcal C}$ is a map of the form
\[
\mathcal C(\alpha,-) \otimes A \to \mathcal C(\alpha, -) \otimes B
\]
where $A \to B$ is an element of $I$.
\end{defin}

\begin{notation}
In the notation of the previous definition, we denote by $F^{\mathcal C}_I$ the collection of the free $I$-cells generated at $\alpha$ as $\alpha$ varies in $\mathcal C$.
\end{notation}

\begin{prop} \label{prop K-inj}
If $\mathcal M$ is a model category, $\mathcal C$ is a small category and $K$ is a set of maps in $\mathcal M$, then a map $g \colon \mathcal X \to \mathcal Y$ in $\mathcal M^{\mathcal C}$ is $F^{\mathcal C}_K$-injective if and only if $g_\alpha \colon \mathcal X(\alpha) \to \mathcal Y(\alpha)$ is $K$-injective for every $\alpha \in \Ob(\mathcal C)$.
\end{prop}

\begin{proof}
This follows from the adjunction $\mathcal C(\alpha, -) \otimes - \dashv \mathrm{ev}_\alpha$.
\end{proof}

\begin{prop} \label{cor objectwise implies global}
If $\mathcal M$ is a cofibrantly generated model category, $I$ is a set of generating cofibrations and $J$ a set of generating trivial cofibration, then for every small category $\mathcal C$ and every $f \in \cofreg{F^{\mathcal C}_I}$ (resp. $f \in \cofreg{F^{\mathcal C}_J}$), $f_\alpha$ is a cofibration (resp. trivial cofibration) for each $\alpha \in \Ob(\mathcal C$.
\end{prop}

\begin{proof}
It is sufficient to show that if $f \in F^{\mathcal C}_I$ (resp. $f \in F^{\mathcal C}_J$, then $f_\alpha$ is a cofibration (resp. trivial cofibration) for every $\alpha \in \Ob(\mathcal C)$ because $\mathrm{ev}_\alpha$ preserves colimits. In this case, $f$ is of the form $\mathcal C(\beta,-) \otimes A \to \mathcal C(\beta,-) \otimes B$ for some $g \colon A \to B$ in $I$ and some $\beta \in \Ob(\mathcal C)$. It follows that $f_\alpha$ is of the form
\[
\coprod_{\mathcal C(\beta, \alpha)} g \colon \coprod_{\mathcal C(\beta, \alpha)} A \to \coprod_{\mathcal C(\beta, \alpha)} B
\]
which is a (trivial) cofibration since (trivial) cofibrations are closed under coproducts.
\end{proof}

\begin{thm}
Let $\mathcal M$ be a cofibrantly generated model category with generating cofibrations $I$ and generating trivial cofibrations $J$. If $\mathcal C$ is a small category, then the category $\mathcal M^{\mathcal C}$ has a cofibrantly generated model structure with generating cofibrations $F^{\mathcal C}_I$ and generating trivial cofibrations $F^{\mathcal C}_J$. Moreover, in this model category a map is:
\begin{enumerate}
\item a weak equivalence if and only if it is a global weak equivalence;
\item a fibration if and only if it is a global fibration;
\item a cofibration if and only if it is a retract of an element of $\cofreg{F^{\mathcal C}_I}$.
\end{enumerate}
\end{thm}

\begin{proof}
We want to invoke Corollary \ref{cor SLP} with respect to the family of adjunctions
\[
\{ \mathcal C(\alpha,-) \otimes - \colon \mathcal M \rightleftarrows \mathcal M^{\mathcal C} \colon \mathrm{ev}_\alpha \}
\]
Observe that in the notations of that corollary we have
\[
I_{\mathcal M^{\mathcal C}} = F^{\mathcal C}_I, \quad J_{\mathcal M^{\mathcal C}} = F^{\mathcal C}_J
\]
Proposition \ref{cor objectwise implies global} implies that $\mathrm{ev}_\alpha$ takes elements of $\cofreg{F^{\mathcal C}_I}$ in cofibrations and elements of $\cofreg{F^{\mathcal C}_J}$ in trivial cofibrations, hence conditions 2. and 3. of Corollary \ref{cor SLP} are satisfied. Condition 1. holds because $\mathrm{ev}_\alpha$ is a left adjoint.
\end{proof}

\begin{cor} \label{cor global projective cofibration}
If $\mathcal M$ is a cofibrantly generated model category and $\mathcal C$ is a small category, then a cofibration in the global projective model structure on $\mathcal M^{\mathcal C}$ is also an objectwise cofibration.
\end{cor}

\begin{proof}
This is Proposition \ref{cor objectwise implies global}.
\end{proof}

\begin{cor}
If $\mathcal M$ and $\mathcal N$ are cofibrantly generated model categories and $F \colon \mathcal M \rightleftarrows \mathcal N \colon U$ is a Quillen adjunction, then $F_* \colon \mathcal M^{\mathcal C} \rightleftarrows \mathcal N^{\mathcal C} \colon U_*$ is a Quillen pair.
\end{cor}

\begin{proof}
It is clear that $U_*$ preserves fibrations and weak equivalences.
\end{proof}

We finally obtain the result we are aiming to:

\begin{thm}
Let $\mathcal C$ be a cofibrantly generated model category. Then:
\begin{enumerate}
\item the adjunction $\colim \colon \mathcal M^{\mathcal C} \rightleftarrows \mathcal M \colon \Delta$ is a Quillen pair;
\item $\colim$ takes objectwise weak equivalences between cofibrant objects to weak equivalences.
\end{enumerate}
\end{thm}

\begin{proof}
It is clear that $\Delta$ is a right Quillen functor.
\end{proof}

More generally we have:

\begin{thm}
Let $i \colon \mathcal C \to \mathcal D$ be a functor of small categories. If $\mathcal M$ is a cofibrantly generated model category, then the adjoint pair
\[
\mathrm{Lan}_i \colon \mathcal M^{\mathcal C} \rightleftarrows \mathcal M^{\mathcal D} \colon i_*
\]
is a Quillen pair.
\end{thm}

\begin{proof}
It is clear that $i_*$ preserves fibrations and weak equivalences.
\end{proof}

\begin{rmk}
This approach has several drawbacks. First of all, it is not clear at all how to compute a cofibrant replacement functor for the global projective model structure on $\mathcal M^{\mathcal C}$, at least at this level of generality. A second, perhaps even more serious issue, is that this approach works \emph{only} for homotopy colimits. Obviously one can state (by duality) a theorem saying that whenever $\mathcal M$ is \emph{fibrantly} generated, then $\mathcal M^{\mathcal C}$ has a global injective model structure (weak equivalences and cofibrations defined objectwise). However, this is of little practical importance, as fibrantly generated model categories are extremely rare (while almost every category we will encounter is cofibrantly generated). There is a nice solution to this problem, which involves more hypotheses on the model category $\mathcal M$ (but which are always, in a sense, mild), namely it is sufficient to require that $\mathcal M$ is \emph{combinatorial}. Again, combinatorial model categories are really common in the practice, hence the hypothesis is rather mild; despite this, the proof of the existence of a global injective model structure under the combinatorial assumption is far from being trivial. We will discuss it to a certain extent this later on, when analysing Bousfield localization.
\end{rmk}

\begin{rmk}
Suppose that $\mathcal M$ is a cofibrantly generated model category and let $\mathcal C$ be a small category. Then there is a natural functor $\mathrm{Ho}(\mathcal M^{\mathcal C}) \to (\mathrm{Ho}(\mathcal M))^{\mathcal C}$ which is not, in general, an equivalence.
\end{rmk}

\begin{exercise}
Show that if $\mathcal C$ is discrete the functor of the previous remark is an equivalence and deduce from this that homotopy products define products in the homotopy category. Is it necessary for $\mathcal M$ to be cofibrantly generated in order to have the global projective model structure on $\mathcal M^{\mathcal C}$ in this case?
\end{exercise}

\subsection{Homotopy pushout and homotopy pullback}

As an illustration of the previous technique we consider the case of the homotopy pushout. This will make clear that often the general approach described before is far from being ``optimal'', in the sense that there could exist, depending on the shape of the diagram, more efficient ways to compute its homotopy colimit. From this moment on, $\mathcal C$ will designate the category $\{1 \xleftarrow{g} 0 \xrightarrow{f} 2\}$.

\begin{lemma}
A diagram $F$ in $\mathcal M^{\mathcal C}$ is cofibrant if and only if it is objectwise cofibrant and both $F(f)$ and $F(g)$ are cofibrations.
\end{lemma}

\begin{proof}
Suppose first of all that $F$ is a cofibrant object; we deduce from Corollary \ref{cor global projective cofibration} that $F$ is objectwise cofibrant. We will show that $F(f)$ is a cofibration, and the same argument will go for $F(g)$. Choose any commutative square
\begin{equation} \label{eq homotopy pushout}
\xymatrix{
F(0) \ar[d]_{F(f)} \ar[r]^\alpha & X \ar[d]^p \\
F(2) \ar[r]^\beta & Y
}
\end{equation}
where $p \colon X \to Y$ is a trivial fibration. Observe that the map of diagrams in $\mathcal M^{\mathcal C}$:
\[
\xymatrix{
{*} \ar@{=}[d] & X \ar[l] \ar@{=}[r] \ar[d]^p & X \ar[d]^p \\
{*} & Y \ar[l] \ar@{=}[r] & Y
}
\]
is a trivial fibration. Moreover, the commutative square \eqref{eq homotopy pushout} induces a map from $F$ to the bottom line of the above diagram. Since $F$ is cofibrant, there exists a lift, but this is equivalent to being able to solve the lifting problem in \eqref{eq homotopy pushout}.

Suppose now that $F$ is objectwise cofibrant and that both $F(f)$ and $F(g)$ are cofibrations. If
\[
\xymatrix{
Z \ar[d]^r & X \ar[l] \ar[r] \ar[d]^p & Y \ar[d]^q \\
Z' & X' \ar[l] \ar[r] & Y'
}
\]
is any trivial fibration of diagrams in $\mathcal M^{\mathcal C}$ and we are given a morphism from $F$ to the bottom line of this diagram, we first solve the lifting problem
\[
\xymatrix{
& X \ar[d]^p \\
F(0) \ar@{.>}[ur]^h \ar[r] & X'
}
\]
using the fact that $F(0)$ is cofibrant and that $p$ is a trivial fibration. Then we solve the two problems
\[
\xymatrix{
F(0) \ar[d]_{F(f)} \ar[r]^-h & X \ar[r] & Y \ar[d]^q \\
F(2) \ar[rr] \ar@{.>}[urr] & & Y'
} \qquad \xymatrix{
F(0) \ar[d]_{F(g)} \ar[r]^-h & X \ar[r] & Z \ar[d]^r \\
F(1) \ar[rr] \ar@{.>}[urr] & & Z'
}
\]
using the fact that $F(f)$ and $F(g)$ are cofibrations and that $q$ and $r$ are trivial fibrations.
\end{proof}

We therefore have an easy algorithm to compute homotopy pushouts: given a diagram
\[
\xymatrix{
Z & X \ar[l] \ar[r] & Y
}
\]
we take a cofibrant replacement $\widetilde{X}$ for $X$ and then we approximate the maps $\widetilde{X} \to Z$ and $\widetilde{X} \to Y$ with cofibrations; the pushout of the resulting diagram will be a model for the homotopy pushout of the original one. This is quite a good algorithm (which obviously depend on the ability to compute cofibrant approximation to arrows in the base model category); however, a further simplification is available: we could content ourselves to replace all the objects and just one arrow. To prove this, we will need to introduce the notion of \emph{proper model category}:

\begin{defin}
Let $\mathcal M$ be a model category.
\begin{enumerate}
\item $\mathcal M$ is said to be left proper if every pushout of  a weak equivalence along a cofibration is a weak equivalence;
\item $\mathcal M$ is right proper if every pullback of a weak equivalence along a fibration is a weak equivalence;
\item $\mathcal M$ is proper if it is both left and right proper.
\end{enumerate}
\end{defin}

\begin{prop}
Let $\mathcal M$ be a model category.
\begin{enumerate}
\item every pushout of a weak equivalence between cofibrant objects along a cofibration is a weak equivalence;
\item every pullback of a weak equivalence between fibrant objects along a fibration is a weak equivalence.
\end{enumerate}
\end{prop}

\begin{proof}
There is a simple argument due to Reedy (cfr. \cite[Proposition 13.1.2]{hirschhorn}), but there is also a more elaborate proof that avoid any lifting argument and therefore can be carried out in the more general context of categories of cofibrant objects (see \cite[Proposition II.8.5]{gj}).
\end{proof}

Once the above Proposition is known, it is not hard to prove our claim, via several reduction step. We won't include the details of this:

\begin{prop} \label{prop right proper}
Let $\mathcal M$ be a right proper model category. If we have a diagram
\[
\xymatrix{
X \ar[r]^g & Z & Y \ar[l]_h
}
\]
where at least one of $g$ and $h$ is a fibration, then the pullback $X \times_Z Y$ is naturally weakly equivalent to the homotopy pullback.
\end{prop}

\begin{proof}
See \cite[Corollary 13.3.8]{hirschhorn}.
\end{proof}

\begin{rmk}
By duality, the same arguments show that it is possible to define a good notion of homotopy pullback, even when the model category $\mathcal M$ is not cofibrantly generated. On the other side, it is also very simple to show that $\mathcal M^{\mathcal C}$ always has a global injective model structure.
\end{rmk}

\begin{eg} \label{eg topological suspension}
Fix a topological space $X$ in $\mathbf{CGHaus}$. We want to compute the homotopy pushout of $* \leftarrow X \rightarrow *$; to do so, we can assume from the very beginning that $X$ is a CW-complex. Consider the mapping cone of the map $X \to *$, $\mathrm{Cone}(X)$; this is a contractible CW-complex which comes equipped with a cellular inclusion $X \to \mathrm{Cone}(X)$, which is therefore a cofibration. The general technique developed above shows that the homotopy pushout of $* \leftarrow X \rightarrow *$ is the (usual) pushout of
\[
\xymatrix{
X \ar[d] \ar[r] & \mathrm{Cone}(X) \ar[d] \\ {*} \ar[r] & Y
}
\]
and this is indeed the suspension $\Sigma(X)$ of $X$. In particular we see that the homotopy pushout of the diagram considered in Example \ref{eg sphere suspension} is $\mathcal S^{n+1}$, which is what we were expecting.
\end{eg}

\begin{eg} \label{eg homological suspension}
Consider an unbounded chain complex $M^\bullet$ in $\ch(R)$, with respect to the projective model structure of Theorem \ref{thm model structure unbounded complexes}. Remember that a map of chain complexes $f \colon M^\bullet \to N^\bullet$ is a quasi-isomorphism if and only if $\mathrm{Cone}(f)$ is quasi-isomorphic to $0$. In particular, we see that $\mathrm{Cone}(M^\bullet) \coloneqq \mathrm{Cone}(\mathrm{id}_{M^\bullet})$ is always quasi-isomorphic to $0$. It follows from the machinery we developed above that the homotopy pushout of $0 \leftarrow M^\bullet \rightarrow 0$ coincides with the cokernel of the natural map $M^\bullet \to \mathrm{Cone}(M^\bullet)$, which is exactly $M^\bullet[1]$.
\end{eg}

\begin{exercise} \label{exo homological loop}
Following a similar procedure to that of Example \ref{eg homological suspension} show that the homotopy pullback of $0 \leftarrow M^\bullet \rightarrow 0$ is $M^\bullet[-1]$.
\end{exercise}

\section{Mapping spaces}

\subsection{Informal ideas and motivations}

As we already said, the homotopy category of a model category $\mathcal M$ describes only a small part of the information contained in $\mathcal M$; intuitively, we can say that $\mathrm{Ho}(\mathcal M)$ extracts the 1-homotopical information in $\mathcal M$. There are other invariants (under Quillen equivalence, let's say) which represent an attempt to describe the higher homotopical content of $\mathcal M$. In this section we will concerned with one of them: the mapping spaces.

If one has some familiarity with the language of $(\infty,1)$-categories in the sense of Lurie (cfr. \cite{htt}), he will know that the theory of quasicategories is equivalent in an appropriate sense to the theory of topological categories and to the theory of simplicial categories. In these two last cases, for each pair of objects $X,Y$ we are given, by the very definition, a mapping space
\[
\mathrm{Map}_{\mathcal C}(X,Y)
\]
which is a topological space or a simplicial set. However, in the language of quasicategories, the existence of such object is not obvious at all. Lurie propose at least three different models for this space; we will choose one of them for sake of clarity (and leave the details of these constructions to successive seminars): if $S$ is a quasicategory and $x,y$ are vertices, define
\begin{equation} \label{eq lurie mapping space}
\Hom_{\sSet}(\Delta^n, \mathrm{Map}_S(x,y))\coloneqq \Hom_{\sSet}^{x,y}(\Delta^n \times \Delta^1, S)
\end{equation}
where the apex means that we are considering only the maps $f$ such that
\[
f |_{\Delta^n \times 0} = x, \qquad f |_{\Delta^n \times 1} = y
\]
It's reasonable that this choice produces a ``good definition'', provided some familiarity with the theory of simplicial sets. In fact, recall that the internal hom of $\sSet$ is defined
\[
\mathbf{Hom}(K,S)_n\coloneqq \Hom_{\sSet}(K \times \Delta^n, S)
\]
Thus \eqref{eq lurie mapping space} is nothing but the subcomplex of
\[
\mathbf{Hom}(\Delta^1,S)
\]
spanned by those elements ``starting from $x$'' and ``reaching $y$''.

\subsection{Reedy categories}

\begin{defin}
A Reedy category is a triple $\left(\mathcal C, \overleftarrow{\mathcal C}, \overrightarrow{\mathcal C}\right)$, where $\mathcal C$ is a category, $\overleftarrow{\mathcal C}$ and $\overrightarrow{\mathcal C}$ are subcategories of $\mathcal C$ both containing all the objects, and the following requirements are satisfied:
\begin{enumerate}
\item $\overleftarrow{\mathcal C}$ and $\overrightarrow{\mathcal C}$ allows a unique $\left(\overrightarrow{\mathcal C}, \overleftarrow{\mathcal C}\right)$-factorization;
\item it is possible to define a degree function $\deg \colon \Ob(\mathcal C) \to \N$ in such a way that every morphism in $\overleftarrow{\mathcal C}$ increases the degree, and every morphism in $\overrightarrow{\mathcal C}$ decreases the degree.
\end{enumerate}
\end{defin}

\begin{rmk}
The degree function is not assigned with the structure of Reedy category.
\end{rmk}

\begin{eg}
The category $\boldsymbol\Delta$ is an example of Reedy categories, where $\overrightarrow{\boldsymbol\Delta}$ is the subcategory whose morphisms are the injective functions, $\overleftarrow{\boldsymbol\Delta}$ is the subcategory whose morphisms are the surjective functions. The factorization exists (see Theorem \ref{thm factorization epi-mono for Delta}), and it is obvious to define a degree function meeting the requirements.
\end{eg}

\begin{defin}
Let $\mathcal C$ be a Reedy category.
\begin{enumerate}
\item For each $\alpha \in \Ob(\mathcal C)$ the latching category at $\alpha$ is the full subcategory $\partial ( \overrightarrow{\mathcal C} \downarrow \alpha )$ of $( \overrightarrow{\mathcal C} \downarrow \alpha )$ containing all the objects but the identity of $\alpha$. We will denote by
\[
\pi_\alpha^l \colon \partial (\overrightarrow{\mathcal C} \downarrow \alpha ) \to \mathcal C
\]
the natural forgetful functor;
\item For each $\alpha \in \Ob(\mathcal C)$ the matching category at $\alpha$ is the full subcategory $\partial ( \alpha \downarrow \overleftarrow{\mathcal C} )$ of $( \alpha \downarrow \overleftarrow{\mathcal C} )$ containing all the objects but the identity of $\alpha$. We will denote by
\[
\pi_\alpha^m \colon \partial ( \alpha \downarrow \overleftarrow{\mathcal C} ) \to \mathcal C
\]
the natural forgetful functor.
\end{enumerate}
\end{defin}

\begin{eg} \label{eg computing latching categories}
We compute the latching categories of $\boldsymbol\Delta$ at $\mathbf n$:
\begin{enumerate}
\item $n = 0$. In this case $( \overrightarrow{\boldsymbol\Delta} \downarrow \mathbf 0 ) = \emptyset$, the empty category; therefore $\partial (\overrightarrow{\boldsymbol\Delta} \downarrow \mathbf 0) = \emptyset$.
\item $n = 1$. In this case
\[
(\overrightarrow{\boldsymbol\Delta} \downarrow \mathbf 1) = \{\bullet \rightarrow \bullet \leftarrow \bullet \}
\]
the pullback category. It follows that
\[
\partial ( \overrightarrow{ \boldsymbol\Delta} \downarrow \mathbf 1 ) = \{\bullet, \: \bullet \}
\]
which is the coproduct category.
\item If $n \ge 2$, we claim that the full subcategory of $\mathcal C\coloneqq \partial ( \overrightarrow{\boldsymbol\Delta} \downarrow \mathbf n )$ whose objects are the arrows $\mathbf{n-1} \to \mathbf n$ and $\mathbf{n-2} \to \mathbf n$ is final in the latching category. In fact, if we are given an arrow $f \colon \mathbf m \to \mathbf n$, different from the identity of $\mathbf n$ and in $\overrightarrow{\boldsymbol\Delta}$, then necessarily $m < n$. If $m = n - 1$ or $m = n - 2$, the identity of $\mathbf m$ is an initial object for $(f \downarrow \mathcal C)$; if $m < n-2$, Theorem \ref{thm factorization epi-mono for Delta} allows to write
\[
f = d^{i_1} \circ \ldots \circ d^{i_s}, \quad s = n - m + 1
\]
If $g \colon \mathbf m \to \mathbf k$ is an arrow in $(f \downarrow \mathcal C)$, cosimplicial identities imply that $g$ is connected to
\[
d^{i_{s-k}} \circ \ldots \circ d^{i_s}
\]
Thus $(f \downarrow \mathcal C)$ is connected.
\end{enumerate}
\end{eg}

\begin{defin}
Let $\mathcal C$ be a Reedy category and let $\mathcal M$ be a model category. Let $\mathbf X \colon \mathcal C \to \mathcal M$ be a diagram of shape $\mathcal C$ in $\mathcal M$. Therefore:
\begin{enumerate}
\item For each $\alpha \in \Ob(\mathcal C)$ the latching object of $\mathbf X$ at $\alpha$ is
\[
\mathrm L_\alpha \mathbf X\coloneqq \colim_{\partial ( \overrightarrow{\mathcal C} \downarrow \alpha )} \mathbf X \circ \pi_\alpha^l
\]
\item For each $\alpha \in \Ob(\mathcal C)$ the matching object of $\mathbf X$ at $\alpha$ is
\[
\mathrm M_\alpha \mathbf X\coloneqq \mathrm{lim}_{\partial ( \alpha \downarrow \overleftarrow{\mathcal C} )} \mathbf X \circ \pi_\alpha^m
\]
\end{enumerate}
\end{defin}

We are now ready to introduce the Reedy model structure:

\begin{defin}
Let $\mathcal C$ be a Reedy category and let $\mathcal M$ be a model category. Let $\mathbf X, \mathbf Y$ be $\mathcal C$-diagrams in $\mathcal M$; let $f \colon \mathbf X \to \mathbf Y$ be a map of diagrams. We will say that
\begin{enumerate}
\item for each $\alpha \in \Ob(\mathcal C)$, define the relative latching map at $\alpha$ to be the arrow
\[
\mathbf X_\alpha \sqcup_{\mathrm L_\alpha \mathbf X} \mathrm L_\alpha \mathbf Y \to \mathbf Y_\alpha
\]
\item for each $\alpha \in \Ob(\mathcal C)$, define the relative matching map at $\alpha$ to be the arrow
\[
\mathbf X_\alpha \to \mathbf Y_\alpha \times_{\mathrm M_\alpha \mathbf Y} \mathrm M_\alpha \mathbf X
\]
\end{enumerate}
\end{defin}

\begin{thm} \label{thm Reedy model structure}
Let $\mathcal C$ be a Reedy category and let $\mathcal M$ be a model category. Then $\mathcal M^\mathcal{C}$ has a model structure where:
\begin{enumerate}
\item a map is a weak equivalence is a pointwise weak equivalence;
\item a map is a fibration if for each $\alpha \in \Ob(\mathcal C)$ the relative matching map is a fibration in $\mathcal M$;
\item a map is a cofibration if for each $\alpha \in \Ob(\mathcal C)$ the relative latching map is a cofibration in $\mathcal M$.
\end{enumerate}
\end{thm}

\begin{proof}
See \cite[Theorem 15.3.4]{hirschhorn}.
\end{proof}

\begin{defin}
We will refer to the model structure introduced in Theorem \ref{thm Reedy model structure} as the \emph{Reedy model structure}.
\end{defin}

\begin{prop} \label{prop Reedy fibrations}
Let $\mathcal C$ be a Reedy category and let $\mathcal M$ be a model category. A Reedy fibration in $\mathcal M^{\mathcal C}$ is always an objectwise fibration. Dually, a Reedy cofibration in $\mathcal M^{\mathcal C}$ is always an objectwise cofibration.
\end{prop}

\begin{proof}
We will prove the second statement. Observe that the map $f_\alpha \colon X_\alpha \to Y_\alpha$ can be factored as
\[
\mathbf X_\alpha \to \mathbf X_\alpha \sqcup_{\mathrm L_\alpha \mathbf X} \mathrm L_\alpha \mathbf Y \to \mathbf Y_\alpha
\]
can be

See \cite[Proposition 15.3.11]{hirschhorn}.
\end{proof}

Recall from our discussion \ref{homotopy pushout} about homotopy pushout that the diagonal functor $\Delta \colon \mathcal M \to \mathcal M^{\mathcal C}$ plays a major role: if it takes fibrant objects to fibrant objects, then it is a right Quillen functor, and $\colim \colon \mathcal M^{\mathcal C} \to \mathcal M$ has a total left derived functor. This situation is (obviously) important; we give it a name:

\begin{defin} \label{def reedy cofibrant constants}
Let $\mathcal C$ be a Reedy category.
\begin{enumerate}
\item we say that $\mathcal C$ has cofibrant constants if for every model category $\mathcal M$ the diagonal functor $\Delta \colon \mathcal M \to \mathcal M^{\mathcal C}$ takes cofibrant objects to (Reedy) cofibrant objects;
\item we say that $\mathcal C$ has fibrant constants if for every model category $\mathcal M$ the diagonal functor $\Delta \colon \mathcal M \to \mathcal M^{\mathcal C}$ takes fibrant objects to (Reedy) fibrant objects.
\end{enumerate}
\end{defin}

\begin{prop} \label{prop reedy cofibrant constants}
Let $\mathcal C$ be a Reedy category.
\begin{enumerate}
\item $\mathcal C$ has cofibrant constants if and only if for every $\alpha \in \Ob(\mathcal C)$ the latching category $\partial (\overrightarrow{\mathcal C} \downarrow \alpha)$ is either connected or empty;
\item $\mathcal C$ has fibrant constants if and only if for every $\alpha \in \Ob(\mathcal C)$ the matching category $\partial (\alpha \downarrow \overleftarrow{\mathcal C} )$ is either connected or empty.
\end{enumerate}
\end{prop}

\begin{proof}
The second statement is the dual of the first one. Assume that every latching category is connected or empty; let $\mathcal M$ be a model category and fix $A \in \Ob(\mathcal M)$. Let $\mathbf X_A$ be the constant diagram at $A$. Then the latching maps at $\alpha$ for $\mathbf X_A$ is either $\emptyset \to A$ or the identity of $A$. In particular $\mathbf X_A$ is cofibrant if $A$ is cofibrant.

Conversely, if $\partial (\overrightarrow{\mathcal C} \downarrow \alpha)$ has $\lambda$ connected components, and $A$ is a simplicial set, the latching map of $\mathbf X_A$ at $\alpha$ is $A^{\sqcup \lambda} \to A$, which is not a monomorphism, hence it is not a cofibration.
\end{proof}

\begin{cor} \label{cor reedy fibrant constants}
Let $\mathcal C$ be a Reedy category. Then
\begin{enumerate}
\item $\mathcal C$ has cofibrant constants if and only if for every model category $\mathcal M$ the adjoint pair $(\Delta, \lim)$ is a Quillen pair;
\item $\mathcal C$ has fibrant constants if and only if for every model category $\mathcal M$ the adjoint pair $(\colim, \Delta)$ is a Quillen pair.
\end{enumerate}
\end{cor}

\begin{proof}
We will prove \emph{2.} If $(\colim, \Delta)$ is a Quillen pair, then $\Delta$ takes fibrations to fibrations, and hence fibrant objects to fibrant objects. Thus in this case $\mathcal C$ has fibrant constants. Conversely, if $\mathcal C$ has cofibrant constants, and $p \colon X \to Y$ is a fibration, then Proposition \ref{prop reedy cofibrant constants} implies that the relative matching map of $\Delta(i)$ at each object $\alpha$ is either the identity map of $X$ or isomorphic to $p$; in both cases it is a fibration.
\end{proof}


\subsection{(Co)simplicial resolutions} \label{cosimplicial resolutions}

We can try to explain the main idea behind the notion of (co)simplicial resolution with the following example: consider the model category $\cghaus$ (say that fibrations are Serre's fibrations). Each topological space $X$ carries a certain amount of homotopical informations, for example all the homotopy groups $\pi_n(X)$. Since
\[
\pi_n(X) = [\mathcal S^n, X]
\]
it should become clear the fact that to understand the homotopical informations in $X$ we should understand the representable functors $[-,X]$ and $[X,-]$, i.e. the homotopy relations of maps starting from and arriving at $X$. Now, first order homotopies of maps from $X$ to $Y$ are identified with maps $X \times |\Delta^1| \to Y$; homotopies between homotopies are identified with maps $X \times |\Delta^2| \to Y$ and so on. From this point of view, $X \times |\Delta^n|$ contains the ``$n$-homotopical informations'' about $X$; we could say that $X \times |\Delta^n|$ is a ``higher cylinder object'' for $X$.

We wish to abstract these observations to the context of any model category $\mathcal M$. This is what we will do with (co)simplicial resolutions: in order to explain the transition, let us observe that for each (compactly generated Hausdorff) space $X$, the family
\[
\mathbf X_*\coloneqq \{X \times |\Delta^n|\}_{n \in \N}
\]
is a cosimplicial object in $\cghaus$; moreover, we have an isomorphism
\[
\mathbf X_*^0 \simeq X
\]
But it is true even more: for each $n$ we have a natural map (the projection):
\[
\mathbf X_*^n = X \times |\Delta^n| \to X
\]
which is a weak equivalence (the standard $n$-simplex $|\Delta^n|$ is contractible). This can be reformulated as follows: if $\mathrm{cc}_* X \in \cghaus^{\mathbf \Delta}$ denotes the constant cosimplicial object at $X$, we have a natural map of cosimplicial objects
\[
\mathbf X_* \to \mathrm{cc}_*X
\]
which is an objectwise weak equivalence. Since $\boldsymbol\Delta$ is a Reedy category, we can consider the Reedy model structure on $\cghaus^{\boldsymbol\Delta}$; in this way, we can reformulate our previous observation by saying that $\mathbf X_* \to \mathrm{cc}_*X$ is a (Reedy) weak equivalence.

This readily allows to generalize our constructions to a generic model category, in order to attain our goal:

\begin{defin}
Let $\mathcal M$ be a model category and let $A \in \Ob(\mathcal M)$ be an object. A cosimplicial resolution of $A$ is a cofibrant approximation $\widetilde{\mathbf A} \to \mathrm{cc}_* A$ in the Reedy model category $\mathcal M^{\boldsymbol\Delta}$. Dually a simplicial resolution of $A$ is a fibrant approximation $\mathrm{cs}_* A \to \widehat{\mathbf A}$ in the Reedy model category $\mathcal M^{\boldsymbol\Delta^{\mathrm{op}}}$.
\end{defin}

The following proposition shows a first hint of the rightness of this definition: cosimplicial resolutions effectively encode homotopical informations about the objects of $\mathcal M$.

\begin{prop} \label{prop cosimplicial resolution cylinder object}
Let $\mathcal M$ be a model category. If $X \in \Ob(\mathcal M)$ is an object and $\widetilde{\mathbf X} \to \mathrm{cc}_* X$ is a cosimplicial resolution, then $\widetilde{\mathbf X}^0 \to X$ is a cofibrant approximation and
\begin{equation} \label{eq cosimplicial resolution cylinder object}
\xymatrix{
\widetilde{\mathbf X}^0 \sqcup \widetilde{\mathbf X}^0 \ar[r]^-{d^0 \sqcup d^1} & \widetilde{\mathbf X}^1 \ar[r]^{s^0} & \widetilde{\mathbf X}^0
}
\end{equation}
is a cylinder object for $\widetilde{\mathbf X}^0$.
\end{prop}

\begin{proof}
The first assertion follows from Proposition \ref{prop Reedy fibrations}; let's check the second one. Cosimplicial identities\footnote{See \eqref{eq cosimplicial identities}.} implies that \eqref{eq cosimplicial resolution cylinder object} gives a factorization of the fold map. The 2-out-of-3 axiom immediately implies that $s^0$ is a weak equivalence. The computations we did in Example \ref{eg computing latching categories} show that the latching object at $\mathbf 1$ of $\widetilde{\mathbf X}$ is exactly $\mathrm L_{\mathbf 1} \widetilde{\mathbf X} = \widetilde{\mathbf X}^0 \sqcup \widetilde{\mathbf X}^0$, and the map
\[
\mathrm L_{\mathbf 1} \widetilde{\mathbf X} \to \widetilde{\mathbf X}^1
\]
is precisely $d^0 \sqcup d^1$. Since $\mathrm{cc}_* \emptyset \to \widetilde{X}$ is a Reedy cofibration, the relative latching map
\[
\emptyset \sqcup_{\emptyset} \mathrm L_{\mathbf 1} \widetilde{\mathbf X} \to \widetilde{\mathbf X}^1
\]
is identified with the previous map $d^0 \sqcup d^1$; it follows that this map is a cofibration.
\end{proof}

Factorization axiom {\bfseries MC5} allows to produce simplicial and cosimplicial resolutions in a functorial way; Proposition \ref{prop lifting up to homotopy} and its Corollaries shows moreover that they are unique up to (Reedy) weak equivalences. Henceforth, from a homotopical point of view, it doesn't matter the choice of one function complex instead of another one. In any case, it's often useful to fix a specific (co)simplicial resolution functor when dealing with constructions that make a massive use of them. Therefore, we will consider sometimes model categories \emph{equipped} with a given (co)simplicial resolution functor (as, when dealing with colimits, one fix a specified left adjoint to the diagonal functor): %\expandthis{Frames, framed categories}

\subsection{Function complexes}

\subsubsection*{Definitions}

We can now use the machinery of (co)simplicial resolutions to define function complexes in every model category. The goal, as we explained in the brief introduction to this section, is to construct for each pair of objects $A,B \in \Ob(\mathcal M)$,a simplicial set $\mathrm{Map}(A,B)$ encoding the homotopy structure of the maps from $A$ to $B$. When the model category is simplicial, this is done without efforts; the remarkable fact, is that (co)simplicial resolutions allows to construct a space of morphism for each model category (even though these spaces need not to be ``composable''). The present construction will remind to the reader several constructions in homological algebra; however, it's not the best approach to the subject. We will see later on that the theory of simplicial localization developed by Dwyer and Kan in the series of articles \cite{dksimplicial}, \cite{dkcomputing} and \cite{dkfunction} has a natural by-product a natural theory of function complexes, (homotopically) equivalent to the one we are developing \emph{hic et nunc}.

Fix a model category $\mathcal M$. Let $\mathbf{X}$ be a cosimplicial object in $\mathcal M$, let $Y \in \Ob(\mathcal M)$. Since $\mathcal M(-,Y)$ is a contravariant functor, we obtain a simplicial set $\mathcal M(\mathbf X,Y)$. Similarly, if $\mathbf Y$ is a simplicial object in $\mathcal M$ and $X \in \Ob(\mathcal M)$, then $\mathcal M(X,\mathbf Y)$ is a simplicial set. Finally, if $\mathbf X$ is a cosimplicial object in $\mathcal M$ and $\mathbf Y$ is a simplicial object in $\mathcal M$, then we obtain a bifunctor
\[
\mathcal M(\mathbf X,\mathbf Y) \colon \boldsymbol\Delta \times \boldsymbol\Delta \to \Set
\]
which is a bisimplicial set. We can extract a simplicial set taking the diagonal:
\[
(\diag \mathcal M(\mathbf X,\mathbf Y))_n\coloneqq \mathcal M(\mathbf X^n,\mathbf Y_n)
\]

\begin{rmk}
Fix a cosimplicial object $\mathbf X$ in $\mathcal M$. Then we obtain a functor
\[
\mathcal M(\mathbf X, -) \colon \mathcal M \to \sSet
\]
It can be shown that this functor has a left adjoint, the so-called realization. Dually, for each simplicial object $\mathbf Y$ in $\mathcal M$, the functor
\[
\mathcal M(-,\mathbf Y) \colon \mathcal M \to \sSet
\]
has a right adjoint, the corealization. We won't need this construction, so we refer the reader to \cite[Ch. 16.3]{hirschhorn} for the details.
\end{rmk}

We are principally interested in two kind of function complexes: the \emph{left} and \emph{righ} function complexes; however, in order to compare them (and show that they gives rise to the same object up to homotopy) we will need something lying in between.

\begin{defin}
Let $\mathcal M$ be a model category and let $X,Y$ be objects in $\mathcal M$. A \emph{left homotopy function complex} from $X$ to $Y$ is a triple
\[
\left( \widetilde{\mathbf X}, \widehat{Y}, \mathcal M( \widetilde{\mathbf X}, \widehat{Y}) \right)
\]
where
\begin{enumerate}
\item $\widetilde{\mathbf X} \to \mathrm{cc}_* X$ is a cosimplicial resolution of $X$;
\item $Y \to \widehat{Y}$ is a fibrant approximation of $Y$;
\item $\mathcal M(\widetilde{\mathbf X}, \widehat{Y})$ is the simplicial set defined above.
\end{enumerate}
\end{defin}

\begin{defin}
Let $\mathcal M$ be a model category and let $X,Y$ be objects in $\mathcal M$. A \emph{right homotopy function complex} from $X$ to $Y$ is a triple
\[
\left( \widetilde{X}, \widehat{\mathbf Y}, \mathcal M(\widetilde{X}, \widehat{\mathbf Y}) \right)
\]
where
\begin{enumerate}
\item $\widetilde{X} \to X$ is a cofibrant approximation of $X$;
\item $\mathrm{cs}_* Y \to \widehat{\mathbf Y}$ is a simplicial resolution of $Y$;
\item $\mathcal M(\widetilde{X}, \widehat{\mathbf Y})$ is the simplicial set defined above.
\end{enumerate}
\end{defin}

Finally:

\begin{defin}
Let $\mathcal M$ be amodel category and let $X,Y$ be objects in $\mathcal M$. A \emph{two-sided homotopy function complex} from $X$ to $Y$ is a triple
\[
\left( \widetilde{\mathbf X}, \widehat{\mathbf Y}, \diag \mathcal M(\widetilde{\mathbf X}, \widehat{\mathbf Y}) \right)
\]
where
\begin{enumerate}
\item $\widetilde{\mathbf X} \to \mathrm{cc}_* X$ is a cosimplicial resolution of $X$;
\item $\mathrm{cs}_* Y \to \widehat{\mathbf Y}$ is a simplicial resolution $Y$;
\item $\diag \mathcal M(\widetilde{\mathbf X}, \widehat{\mathbf Y})$ is the diagonal of the bisimplicial set defined above.
\end{enumerate}
\end{defin}

As we were saying in the brief introduction, these definitions remind the construction methods usually employed in homological algebra. However, from our higher homotopical viewpoint, we have some properties that those definitions should satisfy, in order to be \emph{good} definitions. For example, if we think model categories as presentations of a homotopy theory, the maps between two objects $A$ and $B$ should be organized in a ``space'', and the path-components of this space should be in bijection with homotopy classes of maps from $A$ to $B$. We will show that both these properties are satisfied; we begin with showing that function complexes gives rise to a space, and we discuss homotopy properties later on.

\begin{rmk}
The word ``space'' is among the most overloaded ones in literature. Here, we shall follow Lurie: a space is either a (compactly generated and Hausdorff) topological space or a Kan complex. We don't want to really distinguish between them, so we will use the generic word space.
\end{rmk}

\begin{prop}
If $\mathcal M$ is a model category and $X$ and $Y$ are objects of $\mathcal M$ then:
\begin{enumerate}
\item each left homotopy function complex from $X$ to $Y$ is a fibrant simplicial set;
\item each right homotopy function complex from $X$ to $Y$ is a fibrant simplicial set;
\item each two-sided homotopy function complex from $X$ to $Y$ is a fibrant simplicial set.
\end{enumerate}
\end{prop}

\begin{proof}
The proof requires some work about the realization and corealization which we haven't developed here. We refer to \cite[Ch. 16.3]{hirschhorn} for a treatment of those techniques and to \cite[Propositions 17.1.3, 17.2.3, 17.3.2]{hirschhorn} for a proof of our statements.
\end{proof}

\subsubsection*{Comparing function complexes}

Let $\mathcal M$ be a model category and let $X,Y$ be objects in $\mathcal M$. Let
\begin{equation} \label{eq two-sided function complex}
\left( \widetilde{\mathbf X}, \widehat{\mathbf Y}, \diag \mathcal M ( \widetilde{\mathbf X}, \widehat{\mathbf Y}) \right)
\end{equation}
be a two-sided homotopy function complex from $X$ to $Y$. Then Proposition \ref{prop cosimplicial resolution cylinder object} implies that
\[
\widetilde{\mathbf X}^0 \to X
\]
is a cofibrant approximation to $X$. Therefore
\[
\left(\widetilde{\mathbf X}^0, \widehat{\mathbf Y}, \mathcal M( \widetilde{\mathbf X}^0, \widehat{\mathbf Y}) \right)
\]
is a right homotopy function complex from $X$ to $Y$. Moreover we have a canonical map
\[
\widetilde{\mathbf X} \to \mathrm{cc}_* \widetilde{\mathbf X}^0
\]
which induces a morphism
\begin{equation} \label{eq comparing function complexes 1}
\diag \mathcal M (\widetilde{\mathbf X}, \widehat{\mathbf Y}) \to \mathcal M(\widetilde{\mathbf X}^0, \widehat{\mathbf Y})
\end{equation}
One can prove:

\begin{thm}
The map \eqref{eq comparing function complexes 1} is a weak equivalence of simplicial sets.
\end{thm}

\begin{proof}
See \cite[Proposition 17.4.6]{hirschhorn}.
\end{proof}

Similarly, starting from the function complex \eqref{eq two-sided function complex} one see that
\[
Y \to \widehat{\mathbf Y}_0
\]
is a fibrant approximation to $Y$. Thus we obtain a left homotopy function complex
\[
\left( \widetilde{\mathbf X}, \widehat{\mathbf Y}_0, \mathcal M( \widetilde{\mathbf X}, \widehat{\mathbf Y}_0) \right)
\]
together with a map
\begin{equation} \label{eq comparing function complexes 2}
\mathcal M( \widetilde{\mathbf X}, \widehat{\mathbf Y}_0) \to \diag \mathcal M(\widetilde{\mathbf X}, \widehat{\mathbf Y})
\end{equation}

\begin{thm}
The map \eqref{eq comparing function complexes 2} is a weak equivalence of simplicial sets.
\end{thm}

\begin{proof}
See \cite[Proposition 17.4.6]{hirschhorn}.
\end{proof}

To conclude that all the definitions we gave of function complexes are (weakly) equivalent, one simply need to compare left (resp. right, two-sided) homotopy function complexes among themselves. However, using Corollary \ref{cor uniqueness of approximation} it's easy to show that given two left homotopy function complexes from $X$ to $Y$:
\[
\left( \widetilde{\mathbf X}, \widehat{Y}, \mathcal M(\widetilde{\mathbf X}, \widehat{Y}) \right), \quad \left( \widetilde{\mathbf X}', \widehat{Y}', \mathcal M(\widetilde{\mathbf X}', \widehat{Y}') \right)
\]
such that $\widetilde{\mathbf X}' \to \mathrm{cc}_* X$ and $\mathrm{cs}_* Y \to \widehat{\mathbf Y}$ are respectively a (Reedy) trivial fibration and a (Reedy) trivial cofibration, then there are (Reedy weak equivalences)
\[
f \colon \widetilde{\mathbf X} \to \widetilde{\mathbf X}', \quad g \colon \widehat{\mathbf Y}' \to \widehat{\mathbf Y}
\]
inducing a morphism
\begin{equation} \label{eq comparing function complexes 3}
\mathcal M(\widetilde{\mathbf X}, \widehat{\mathbf Y}) \to \mathcal M( \widetilde{\mathbf X}', \widehat{\mathbf Y}')
\end{equation}
Using again the machinery of resolutions and coresolutions one can prove

\begin{thm}
The map \eqref{eq comparing function complexes 3} is a weak equivalence of simplicial sets.
\end{thm}

\begin{proof}
See \cite[Proposition 17.1.10]{hirschhorn}.
\end{proof}

In view of the results of this section, we will adopt the following notation:

\begin{notation}
Let $\mathcal M$ be a model category and let $X,Y \in \Ob(\mathcal M)$. We will denote by $\mathrm{map}_{\mathcal M}(X,Y)$ a function complex from $X$ to $Y$. That is, we mean either a left homotopy function complex, or a right homotopy function complex or a two-sided function complex. Since we will be interested only in homotopical properties of such mapping spaces, no harm will arrive from this overloading of the symbol $\mathrm{map}_{\mathcal M}(X,Y)$.
\end{notation}

\subsubsection*{Homotopy and Function complexes}

We return now to the properties of function complexes. It remains to show that the path-connected components of $\mathrm{map}_{\mathcal M}(X,Y)$ are in bijection with the homotopy classes of maps from $X$ to $Y$.

\begin{lemma} \label{lemma path component function complexes}
Let $\mathcal M$ be a model category.
\begin{enumerate}
\item If $\widetilde{\mathbf A}$ is a cosimplicial resolution of an object $A \in \Ob(\mathcal M)$ and $X$ is a fibrant object, then there is a natural bijection between $\pi_0 \mathcal M( \widetilde{\mathbf A}, X)$ and $\pi(\widetilde{\mathbf A}^0, X)$.
\item If $\widehat{\mathbf X}$ is a simplicial resolution of an object $X \in \Ob(\mathcal M)$ and $A$ is a cofibrant object, then there is a natural bijection between $\pi_0 \mathcal M(A, \widehat{\mathbf X})$ and $\pi(A, \widehat{\mathbf X})$.
\end{enumerate}
\end{lemma}

\begin{proof}
An element in $\pi_0 \mathcal M(\widetilde{\mathbf A},X)$ is represented by a $0$-simplex of $\mathcal M(\widetilde{\mathbf A},X)$, i.e. an element
\[
f \in \mathcal M (\widetilde{\mathbf A}^0, X)
\]
If $g$ is another element there representing the same class of $f$, there is a $1$-simplex $\alpha$ of $\mathcal M(\widetilde{\mathbf A}, X)$ such that $d_0(\alpha) = f$ and $d_1(\alpha) = g$. By definition we have:
\[
\alpha \in \mathcal M(\widetilde{\mathbf A}^1, X)
\]
and $d_0(\alpha) = \alpha \circ d^0$, $d_1(\alpha) = \alpha \circ d^1$, where $d^0,d^1$ are the coface maps of $\widetilde{\mathbf A}$. Proposition \ref{prop cosimplicial resolution cylinder object} shows that $\widetilde{\mathbf A}^1$ is a cylinder object for $\widetilde{\mathbf A}^0$, i.e. the $1$-simplex $\alpha$ induces a left homotopy between $f$ and $g$. Conversely, every left homotopy between $f$ and $g$ defines an element $\beta \in \mathcal M(\widetilde{\mathbf A}^1,X)$ satisfying $d_0(\beta) = f$ and $d_1(\beta) = g$. Therefore we obtain a well defined map
\[
\pi_0 \mathcal M(\widetilde{\mathbf A}, X) \to \pi(\widetilde{\mathbf A}^0,X)
\]
this map is obviously surjective, and we showed above that it's also injective. Naturality is clear, and the second statement of the lemma is the dual of this one.
\end{proof}

\begin{prop} \label{prop path component function complexes}
Let $\mathcal M$ be a model category. If $X,Y$ are objects in $\mathcal M$ and $\mathrm{map}_{\mathcal M}(X,Y)$ is a function complex from $X$ to $Y$, $\pi_0 \mathrm{map}_{\mathcal M}(X,Y)$ is naturally isomorphic to the set of maps from $X$ to $Y$ in $\mathrm{Ho}(\mathcal M)$.
\end{prop}

\begin{proof}
We are reduced to the case where $X$ and $Y$ are both fibrant and cofibrant. Now the result follows from Lemma \ref{lemma path component function complexes}.
\end{proof}

To conclude this brief discussion about function complexes, we want to discuss a lifting criterion and a recognition lemma.

\begin{lemma} \label{lemma lifting criterion function complexes}
Let $\mathcal M$ be a model category.
\begin{enumerate}
\item if $A$ is a cofibrant object and $p \colon X \to Y$ is a map of fibrant objects that induces a weak equivalence of homotopy function complexes
\[
p_* \colon \mathrm{map}_{\mathcal M}(A,X) \to \mathrm{map}_{\mathcal M}(A,Y)
\]
then $p$ induces an isomorphism $p_* \colon \pi(A,X) \to \pi(A,Y)$.

\item if $X$ is a fibrant object and $i \colon A \to B$ is a map of cofibrant objects that induces a weak equivalence of homotopy function complexes
\[
i^* \colon \mathrm{map}_{\mathcal M}(B,X) \to \mathrm{map}_{\mathcal M}(A,X)
\]
then $i$ induces an isomorphism $i^* \colon \pi(B,X) \to \pi(A,X)$.
\end{enumerate}
\end{lemma}

\begin{proof}
Let $\widetilde{\mathbf A}$ be a cosimplicial resolution of $A$. Then $p$ induces a weak equivalence
\[
p_* \colon \mathcal M (\widetilde{\mathbf A}, X) \to \mathcal M(\widetilde{\mathbf A},Y)
\]
and thus, using Lemma \ref{lemma path component function complexes}, we obtain an isomorphism
\[
p_* \colon \pi(\widetilde{\mathbf A}^0, X) \to \pi(\widetilde{\mathbf A}^0,Y)
\]
Since $\widetilde{\mathbf A}^0 \to A$ is a weak equivalence of cofibrant objects, the thesis follows from Lemma \ref{lemma homotopy category 2}. The other statement is dual.
\end{proof}

The following theorem is the reformulation of the lifting criterion in term of function complexes:

\begin{thm} \label{thm lifting criterion function complexes}
If $A$ is cofibrant and $p \colon X \to Y$ is a fibration between fibrant objects such that the induced map of function complexes $p_* \colon \mathrm{map}_{\mathcal M}(A,X) \to \mathrm{map}_{\mathcal M}(A,Y)$ is a weak equivalence, then for any map $f \colon A \to Y$ there is a map $g \colon A \to X$ such that $f = pg$.
\end{thm}

\begin{proof}
This is a consequence of the standard lifting criterion and Lemma \ref{lemma lifting criterion function complexes}.
\end{proof}

Finally, the recognition result:

\begin{thm} \label{thm recognition via function complexes}
If $\mathcal M$ is a model category and $g \colon X \to Y$ is an arrow, the following statements are equivalent:
\begin{enumerate}
\item $g$ is a weak equivalence;
\item for every (cofibrant) object $W$ the map induces a weak equivalence of function complexes $g_* \colon \mathrm{map}_{\mathcal M}(W,X) \to \mathrm{map}_{\mathcal M}(W,Y)$;
\item for every (fibrant) object $Z$ the map induces a weak equivalence of function complexes $g^* \colon \mathrm{map}_{\mathcal M}(X,Z) \to \mathrm{map}_{\mathcal M}(Y,Z)$.
\end{enumerate}
\end{thm}

\begin{proof}
If $g$ is a weak equivalence, results on cosimplicial resolutions imply the thesis (see \cite[Theorem 17.6.3]{hirschhorn}). Conversely, assuming for example \emph{2.}, we can choose $W = X$ and $W = Y$. Let $\widetilde{g} \colon \widetilde{X} \to \widetilde{Y}$ be a cofibrant approximation to $g$ and let $\widehat{g} \colon \widehat{X} \to \widehat{Y}$ be a fibrant approximation to $\widetilde{g}$. Then
\[
\widehat{g}_* \colon \mathrm{map}_{\mathcal C}(\widehat{X},\widehat{X}) \to \mathrm{map}_{\mathcal C}(\widehat{X}, \widehat{Y}), \quad \widehat{g}_* \colon \mathrm{map}_{\mathcal C}(\widehat{Y},\widehat{X}) \to \mathrm{map}_{\mathcal C}(\widehat{Y},\widehat{Y})
\]
are isomorphisms. Lemma \ref{lemma lifting criterion function complexes} implies that $\widehat{g}$ induces isomorphisms
\[
\widehat{g}_* \colon \pi(\widehat{X},\widehat{X}) \to \pi(\widehat{X},\widehat{Y}), \quad \widehat{g}_* \colon \pi(\widehat{Y},\widehat{X}) \to \pi(\widehat{Y},\widehat{Y})
\]
Therefore $\widehat{g}_*$ is a homotopy equivalence; since $\widehat{g}$ is an arrow between fibrant-cofibrant objects, it is a weak equivalence by Whitehead's theorem \ref{thm abstract whitehead}. It follows that $\widetilde{g}$ is a weak equivalence, so that $g$ is a weak equivalence too.
\end{proof}

\subsubsection{Examples}

The main computational tool is given by the following result:

\begin{lemma}
If $\mathcal M$ is a simplicial model category, then for each cofibrant object $X$, $\{X \otimes \Delta^n\}_{n \in \N}$ is a cosimplicial resolution of $X$.
\end{lemma}

In this way we can say that:
\begin{enumerate}
\item for $\sSet$, $\mathrm{map}(X,Y)$ is just $\mathbf{hom}(\widetilde{X}, \widehat{Y})$, where $\widetilde{X}$ is a cofibrant approximation to $X$ and $\widehat{Y}$ is a fibrant approximation to $Y$;
\item for $\ch(R)$, we can exploit the natural simplicial structure: $n$-simplices of $\sSet(E,F)$ are the chain maps of degree $n$, i.e. elements of $\Hom(E,F[-i])$. It follows that $\pi_i \mathrm{map}(E,F) = \pi_0 \mathrm{map}(E,F[-i]) = \Hom_{D(R)}(E,F[-i])$ (using Proposition \ref{prop path component function complexes}).
\end{enumerate}

\subsection{Hammock localization}

\subsection{Mapping spaces II}

\section{Bousfield localization}

\subsection{Localization of model categories}

We remarked several times that our constructions are done accordingly to the philosophy that a model category should be a presentation of a homotopy theory. Again, to understand Bousfield localization, the reader should keep in mind this philosophy.

We try to give an informal explanation of Bousfield localization: let's start with a model category $\mathcal M$. We saw in Section \ref{homotopy category} that we can associate to $\mathcal M$ its homotopy category $\mathrm{Ho}(\mathcal M)$, carrying the first order homotopy informations contained in $\mathcal M$. It is sometimes useful to further localize $\mathrm{Ho}(\mathcal M)$ (see below for a concrete example); however, as we pointed out in our discussion \ref{homotopy pushout}, working at the level of $\mathrm{Ho}(\mathcal M)$ can be dangerous, because many higher order informations are forgotten. Bousfield localization is an attempt to solve this problem: localizing the homotopy category, without losing higher homotopical data. This is achieved building another model category, whose homotopy category gives back the desired localization of $\mathrm{Ho}(\mathcal M)$; the additional data in the new model category represents the higher order informations we didn't want to forget.

If this idea is clear, then the following definition won't surprise the reader: since we agreed that the correct result should be a model category, we will look for a universal property among them; however, we can at least consider two different kind of maps, i.e. left Quillen functors and right Quillen functor. It makes sense to consider them both, and the results will be different, in general; therefore we will make a distinction between left localization and right localization.

\begin{defin} \label{def left right localization}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$.
\begin{enumerate}
\item A \emph{left localization of $\mathcal M$ with respect to $\mathcal S$} is a pair $(\mathrm L_{\mathcal S} \mathcal M, j)$ universal among pairs $(\mathcal N, \varphi)$, where $\mathcal N$ is a model category and $\varphi \colon \mathcal M \to \mathcal N$ is a left Quillen functor such that its total left derived functor
\[
\mathbf L \varphi \colon \mathrm{Ho}(\mathcal M) \to \mathrm{Ho}(\mathcal N)
\]
takes the images of elements of $\mathcal S$ into isomorphisms in $\mathrm{Ho}(\mathcal N)$.

\item A \emph{right localization of $\mathcal M$ with respect to $\mathcal S$} is a pair $(\mathrm R_{\mathcal S} \mathcal M, j)$ universal among pairs $(\mathcal N, \varphi)$ where $\mathcal N$ is a model category and $\varphi \colon \mathcal M \to \mathcal N$ is a right Quillen functor such that its total right derived functor
\[
\mathbf L \varphi \colon \mathrm{Ho}(\mathcal M) \to \mathrm{Ho}(\mathcal N)
\]
takes the images of elements of $\mathcal S$ into isomorphisms in $\mathrm{Ho}(\mathcal N)$.
\end{enumerate}
\end{defin}

The subtlety hidden in this universal property is that $\mathcal S$, being absolutely generic, certainly doesn't need to be saturated with respect to the construction we are interested in. For example, if we are considering left localizations, for each pair $(\mathcal N,\varphi)$ satisfying the characteristic property, $\mathbf L\varphi$ will take cofibrant approximations to elements in $\mathcal S$ to isomorphisms. Therefore the saturation with respect to the localization process of $\mathcal S$ contains at least all the cofibrant approximations to the elements of $\mathcal S$. To understand better this situation, we would like to characterize abstractly the property of being saturated. We begin with a couple of definitions:

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. We will say that an object $W$ is $\mathcal S$-local if it is fibrant and for every $f \colon A \to B$ in $\mathcal S$ the induced morphism of function complexes
\[
f^* \colon \mathrm{map}_{\mathcal M}(B,W) \to \mathrm{map}_{\mathcal M}(A,W)
\]
is a weak equivalence of simplicial sets.
\end{defin}

\begin{rmk}
We can say that a $\mathcal S$-local object is an object that make the arrows in $\mathcal S$ ``look like weak equivalences''. See Theorem \ref{thm recognition via function complexes} to understand where the intuition comes from.
\end{rmk}

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. We will say that an arrow $f \colon X \to Y$ is a $\mathcal S$-local equivalence if for every $\mathcal S$-local object $W$ the induced map of function complexes
\[
f^* \colon \mathrm{map}_{\mathcal M}(Y,W) \to \mathrm{map}_{\mathcal M}(X,W)
\]
is a weak equivalence of simplicial sets.
\end{defin}

Dually, we introduce:

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. We will say that an object $W$ is $\mathcal S$-colocal if it is cofibrant and for every $f \colon A \to B$ the induced map of function complexes
\[
f_* \colon \mathrm{map}_{\mathcal M}(W,A) \to \mathrm{map}_{\mathcal M}(W,B)
\]
is a weak equivalence of simplicial sets.
\end{defin}

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. We will say that an arrow $f \colon X \to Y$ is a $\mathcal S$-colocal equivalence if for every $\mathcal S$-colocal object $W$ the induces map of function complexes
\[
f_* \colon \mathrm{map}_{\mathcal M}(W,X) \to \mathrm{map}_{\mathcal M}(W,Y)
\]
is a weak equivalence of simplicial sets.
\end{defin}

The $\mathcal S$-local equivalences characterizes abstractly the saturation with respect to the localization process, as next theorem is going to show:

\begin{thm} \label{thm characterizing saturation wrt left localization}
Let $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$ be a Quillen pair. If $\mathcal S$ is a class of arrows in $\mathcal M$, the following are equivalent:
\begin{enumerate}
\item $\mathbf L F$ takes the images of elements of $\mathcal S$ into isomorphisms of $\mathrm{Ho}(\mathcal N)$;
\item the functor $F$ takes every cofibrant approximation to an element of $\mathcal S$ into a weak equivalence of $\mathcal N$;
\item the functor $G$ takes every fibrant object of $\mathcal N$ into a $\mathcal S$-local object of $\mathcal M$;
\item the functor $F$ takes every $\mathcal S$-local equivalence between cofibrant objects into a weak equivalence in $\mathcal N$.
\end{enumerate}
\end{thm}

\begin{proof}[Sketch of the proof]
The construction of $\mathbf L F$ shows immediately that \emph{1.} $\iff$ \emph{2.}. Theorem \ref{thm recognition via function complexes} implies equivalence of \emph{2.} with \emph{3.} and of \emph{3.} with \emph{4.}. For the details, see \cite[Theorem 3.1.6]{hirschhorn}.
\end{proof}

Dually we have:

\begin{thm} \label{thm characterizing saturation wrt right localization}
Let $F \colon \mathcal M \rightleftarrows \mathcal N \colon G$ be a Quillen pair. If $\mathcal S$ is a class of arrows in $\mathcal M$, the following are equivalent:
\begin{enumerate}
\item $\mathbf R G$ takes the images of elements of $\mathcal S$ into isomorphisms of $\mathrm{Ho}(\mathcal N)$;
\item the functor $G$ takes every fibrant approximation to an element of $\mathcal S$ into a weak equivalence of $\mathcal N$;
\item the functor $F$ takes every cofibrant object of $\mathcal M$ into a $\mathcal S$-local object of $\mathcal N$;
\item the functor $G$ takes every $\mathcal S$-local equivalence between fibrant objects into a weak equivalence in $\mathcal M$.
\end{enumerate}
\end{thm}

\begin{proof}
Dual of the proof of Theorem \ref{thm characterizing saturation wrt left localization}.
\end{proof}

\subsection{Bousfield localization}

For certain model categories and certain classes of maps, the localization is easier to describe. This is what Bousfield did in his work; in this situation, we will refer to the new model category as the left (resp. right) Bousfield localization. Here is the definition:

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. The \emph{left Bousfield localization} of $\mathcal M$ with respect to $\mathcal S$ is a model category $\mathrm L_{\mathcal S}\mathcal M$ on the underlying category of $\mathcal M$ such that:
\begin{enumerate}
\item the class of weak equivalences of $\mathrm L_{\mathcal S} \mathcal M$ equals the class of $\mathcal S$-local equivalences of $\mathcal M$;
\item the class of cofibrations of $\mathrm L_{\mathcal S} \mathcal M$ equals the class of cofibrations of $\mathcal M$;
\item the class of fibrations of $\mathrm L_{\mathcal S} \mathcal M$ equals the class of arrows with the RLP with respect to all the cofibrations which are also $\mathcal S$-local equivalences.
\end{enumerate}
\end{defin}

Dually:

\begin{defin}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of arrows in $\mathcal M$. The \emph{right Bousfield localization} of $\mathcal M$ with respect to $\mathcal S$ is a model category $\mathrm R_{\mathcal S} \mathcal M$ on the underlying category of $\mathcal M$ such that:
\begin{enumerate}
\item the class of weak equivalences of $\mathrm R_{\mathcal S} \mathcal M$ equals the class of $\mathcal S$-local equivalences of $\mathcal M$;
\item the class of fibrations of $\mathrm R_{\mathcal S} \mathcal M$ equals the class of fibrations of $\mathcal M$;
\item the class of cobrations of $\mathrm R_{\mathcal S} \mathcal M$ equals the class of arrows with the LLP with respect to all the fibrations which are also $\mathcal S$-local equivalences.
\end{enumerate}
\end{defin}

In general, the weak equivalences, fibrations and cofibrations described in the above definitions doesn't form a model structure. However, if they do, they define a left (resp. right) localization in the sense of Definition \ref{def left right localization}.

\begin{thm}
Let $\mathcal M$ be a model category and let $\mathcal S$ be a class of maps. If the left Bousfield localization defines a model structure $\mathrm L_{\mathcal S} \mathcal M$ on the underlying category of $\mathcal M$, then the identity functor $\mathcal M \to \mathrm L_{\mathcal S} \mathcal M$ is a left localization of $\mathcal M$ with respect to $\mathcal S$. Dually, if the right Bousfield localization defines a model structure $\mathrm R_{\mathcal S} \mathcal M$ on the underlying category of $\mathcal M$, then the identity functor $\mathcal M \to \mathrm R_{\mathcal S} \mathcal M$ is a right localization of $\mathcal M$ with respect to $\mathcal S$.
\end{thm}

\begin{proof}
See \cite[Theorem 3.3.19]{hirschhorn}.
\end{proof}

Finally we state the main existence theorem for Bousfield localizations:

\begin{thm} \label{thm existence of bousfield localization}
Let $\mathcal M$ be a left proper cellular model category and let $\mathcal S$ be a set of arrows in $\mathcal M$. Then:
\begin{enumerate}
\item the left Bousfield localization of $\mathcal M$ with respect to $\mathcal S$ exists;
\item the fibrant objects of $\mathrm L_{\mathcal S} \mathcal M$ are the $\mathcal S$-local objects of $\mathcal M$;
\item $\mathrm L_{\mathcal S} \mathcal M$ is left proper cellular model category.
\end{enumerate}
\end{thm}

\begin{proof}
See \cite[Theorem 4.1.1]{hirschhorn}.
\end{proof}

\subsection{A detailed example}

To conclude this overview of the theory of Bousfield localizations we work out the details of an example that we will need in the Chapter 3.

First of all we invoke the following result:

\begin{thm}
$\sSet$ is left proper and cellular
\end{thm}

\begin{proof}
In $\sSet$ every object is cofibrant, hence it is left proper. For cellularity, see \cite[Proposition 12.1.4]{hirschhorn}.
\end{proof}

Using Theorem \ref{thm existence of bousfield localization} we conclude the existence of the left Bousfield localization with respect to any set of maps. We consider the set formed only by the inclusion map
\[
\alpha \colon \partial \Delta^3 \to \Delta^3
\]

\begin{defin}
The $S^2$-nullification of $\sSet$ is the left Bousfield localization of $\sSet$ with respect to the map $\alpha \colon \partial \Delta^3 \to \Delta^3$. We will denote this model category as $(S^2)^{-1} \sSet$.
\end{defin}

The goal of this example is to characterize the weak equivalences in $(S^2)^{-1} \sSet$, that is, the local equivalences with respect to $\alpha$. More precisely, we want to prove the following result:

\begin{prop} \label{prop S^2 nullification}
The weak equivalences in $(S^2)^{-1} \sSet$ are exactly those maps inducing an isomorphism on $\pi_0$ and $\pi_1$ at all base points.
\end{prop}

We will proceed in several steps. First of all, let's observe that, since we are considering a left Bousfield localization, the cofibrations are unchanged and weak equivalences extends the standard ones. In particular, it follows that for any object $Y \in \sSet$,
\[
\{Y \times \Delta^n\}_{n \in \N}
\]
is still a cosimplicial resolution of $Y$; therefore we conclude that for any pair of objects $X$ and $Y$ a left homotopy function complex is (still) given by
\[
\mathbf{hom}(X,Y)
\]

\begin{lemma} \label{lemma S^2 nullification 1}
The functor $- \times \Delta^1 \colon (S^2)^{-1} \sSet \to (S^2)^{-1} \sSet$ preserves weak equivalences.
\end{lemma}

\begin{proof}
Let $f \colon X \to Y$ be a $S^2$-local map. By definition, for any $S^2$-local object $W$ the map
\[
\mathbf{hom}(Y,W) \to \mathbf{hom}(X,W)
\]
is a standard weak equivalence of simplicial sets. Using adjunction we obtain a commutative diagram
\[
\xymatrix{
\mathbf{hom}(Y \times \Delta^1, W) \ar[d] \ar[r] & \mathbf{hom}(X \times \Delta^1, W) \ar[d] \\ \mathbf{hom}(Y, \mathbf{hom}(\Delta^1, W)) \ar[r] & \mathbf{hom}(X, \mathbf{hom}(\Delta^1,W))
}
\]
where the horizontal arrows are the natural ones and the vertical arrows are isomorphisms of simplicial sets. Since $f$ is $S^2$-local, we will be done proving that $\mathbf{hom}(\Delta^1,W)$ is a $S^2$-local object, i.e. that
\[
\mathbf{hom}(\Delta^3, \mathbf{hom}(\Delta^1, W)) \to \mathbf{hom}(\partial \Delta^3, \mathbf{hom}(\Delta^1, W))
\]
is a weak equivalence. Reasoning as above, this is equivalent to show that the natural map
\[
\mathbf{hom}(\Delta^3 \times \Delta^1, W) \to \mathbf{hom}(\partial \Delta^3 \times \Delta^1, W)
\]
is a weak equivalence. However, the projection maps
\[
\Delta^3 \times \Delta^1 \to \Delta^3, \quad \partial \Delta^3 \times \Delta^1 \to \Delta^3
\]
are weak equivalences because the geometric realization functor commutes with products and $|\Delta^1|$ is contractible. Now, consider the commutative diagram:
\[
\xymatrix{
\mathbf{hom}(\Delta^3 \times \Delta^1, W) \ar[r] & \mathbf{hom}(\partial \Delta^3 \times \Delta^1, W) \\ \mathbf{hom}(\Delta^3, W) \ar[u] \ar[r] & \mathbf{hom}(\partial \Delta^3, W) \ar[u]
}
\]
The bottom row is a weak equivalence by hypothesis, and the vertical maps are weak equivalences because they are induced by weak equivalences between cofibrant objects. The 2-out-of-3 axiom implies that also the top row is a weak equivalence, completing the proof.
\end{proof}

\begin{lemma} \label{lemma S^2 nullification 2}
In $(S^2)^{-1} \sSet$ the inclusion $\partial \Delta^n \to \Delta^n$ is a weak equivalence for every $n > 2$.
\end{lemma}

\begin{proof}
We proceed by induction, the case $n = 3$ being true by definition of left Bousfield localization. Assume that $\partial \Delta^n \to \Delta^n$ is a $S^2$-local equivalence. Then Lemma \ref{lemma S^2 nullification 1} implies that
\[
\partial \Delta^n \times \Delta^1 \to \Delta^n \times \Delta^1
\]
is a $S^2$-local equivalence. Consider the commutative diagram
\[
\xymatrix{
\partial \Delta^{n+1} \ar[r] \ar[d] & \Delta^{n+1} \ar[d] \\ \partial \Delta^n \times \Delta^1 \ar[r] & \Delta^n \times \Delta^1
}
\]
Then the vertical arrows are weak equivalences because $|\Delta^1|$ is contractible, while the bottom row is a weak equivalence by the previous considerations. It follows from the 2-out-of-3 axiom that $\partial \Delta^{n+1} \to \Delta^{n+1}$ is a weak equivalence as well.
\end{proof}

\begin{cor} \label{cor S^2 nullification}
If $W$ is a $S^2$-local object, for any $Y \in \sSet$ we have
\[
\pi_n \mathbf{hom}(Y,W) = 0
\]
for every $n \ge 2$.
\end{cor}

\begin{proof}
Using repeatedly the adjuntion between $\mathbf{hom}(X,-)$ and $- \times X$, we see that the map
\begin{equation} \label{eq S^2 nullification 1}
\mathbf{hom}(\Delta^n, \mathbf{hom}(Y,W)) \to \mathbf{hom}(\partial \Delta^n, \mathbf{hom}(Y,W))
\end{equation}
is isomorphic to the natural map
\[
\mathbf{hom}(Y, \mathbf{hom}(\Delta^n,W)) \to \mathbf{hom}(Y, \mathbf{hom}(\partial \Delta^n,W))
\]
Since for $n > 2$ the map
\[
\mathbf{hom}(\Delta^n,W) \to \mathbf{hom}(\partial \Delta^n,W)
\]
is a weak equivalence between fibrant objects, it follows that the map \eqref{eq S^2 nullification 1} is a weak equivalence. This implies that for $n \ge 2$ we have:
\[
\pi_n \mathbf{hom}(Y,W) = 0
\]
\end{proof}

Now we are ready to prove the main result:

\begin{proof}[Proof of Proposition \ref{prop S^2 nullification}]
Assume that $f \colon X \to Y$ is $S^2$-local and take a fibrant approximation $\widehat{f} \colon \widehat{X} \to \widehat{Y}$. Theorem \ref{thm recognition via function complexes} implies that for every (cofibrant) object $A$ the induced map\footnote{If $X$ and $Y$ are not fibrant, the assertion is trivially false: just consider $\partial \Delta^3 \to \Delta^3$. However, for fibrant objects we obtain exactly the function complex, hence the stated theorem applies.}
\[
f_* \colon \mathbf{hom}(A,\widehat{X}) \to \mathbf{hom}(A,\widehat{Y})
\]
is a weak equivalence. In particular, taking $A = \Delta^0$ (since every object in $(S^2)^{-1} \sSet$ is cofibrant), we deduce that $\widehat{f} \colon \widehat{X} \to \widehat{Y}$ is a standard weak equivalence.

Moreover, functoriality of $\pi_0$ and $\pi_1$ allows to reduce to the case of a map $f \colon X \to Y$ with $Y$ fibrant.
\end{proof}

\begin{thm} \label{thm groupoids nullification}
The adjoint pair $\pi_f \colon \sSet \rightleftarrows \grpd \colon N$ of Theorem \ref{thm nerve adjunction 2} is a Quillen equivalence between $\grpd$ and the $S^2$-nullification of $\sSet$.
\end{thm}

%\section{Complements to Chapter 1}
%
%%\subsection{Uniqueness of the model structure for $\grpd$}
%
%The goal of this section is to provide a proof of the following:\footnote{I learned this theorem from a post of Chris Schommer-Pries which can be found at \url{http://sbseminar.wordpress.com/2012/11/16/the-canonical-model-structure-on-cat/}. In this section I simply adapt the proof given there to the case of groupoids, as suggested by Mike Shulman in his answer.}
%
%\begin{thm} \label{thm uniqueness grpd}
%On the category of (small) groupoids there is a unique model structure in which the weak equivalences are the equivalences of groupoids.
%\end{thm}
%
%We already described such a model structure for $\grpd$ in the example \ref{model structure on groupoids}. From now on, we will assume that $\grpd$ is endowed with a generic model structure satisfying the hypothesis of Theorem \ref{thm uniqueness grpd}. We will refer to the model structure already defined as the \emph{canonical model structure} on $\grpd$.
%
%\begin{lemma} \label{lemma uniqueness 1}
%The map $\emptyset \to \mathbf 1$ is a cofibration.
%\end{lemma}
%
%\begin{proof}
%Choose a cofibrant approximation $(\mathcal A,i)$ for $\mathbf 1$. Then for any functor $F \colon \mathbf 1 \to \mathcal A$, the diagram
%\[
%\xymatrix{
%\emptyset \ar[d] \ar[r] & \emptyset \ar[d] \ar[r] & \emptyset \ar[d] \\
%\mathbf 1 \ar[r]^F & \mathcal A \ar[r] & \mathbf 1
%}
%\]
%commutes and express $\emptyset \to \mathbf 1$ as a retract of $\emptyset \to \mathcal A$.
%\end{proof}
%
%\begin{cor} \label{cor uniqueness 2}
%Acyclic fibrations are surjective on objects.
%\end{cor}
%
%\begin{proof}
%This is an easy consequence of the fact that acyclic fibrations have the RLP with respect to all cofibrations, hence in particular with respect to $\emptyset \to \mathbf 1$.
%\end{proof}
%
%\begin{cor} \label{cor uniqueness 3}
%(Acyclic) fibrations are a subset of canonical (acyclic) fibrations.
%\end{cor}
%
%\begin{proof}
%The statement for acyclic fibrations follows from Corollary \ref{cor uniqueness 2}. The other statement follows from this one because cofibrations must contain canonical cofibrations; hence acyclic cofibrations contain canonical acyclic cofibrations and so fibrations are a subset of canonical fibrations.
%\end{proof}
%
%\begin{lemma} \label{lemma uniqueness 4}
%Let $\Delta^1$ be the groupoid with two objects and exactly one isomorphism between them. If the cofibrations contain a map which is not a canonical cofibration, then the map $\Delta^1 \to \mathbf 1$ is a cofibration.
%\end{lemma}
%
%\begin{proof}
%Assume that the functor $F \colon \mathcal A \to \mathcal B$ is a cofibration but fails to be an injection on objects. Then we can choose $X,Y \in \Ob(\mathcal A)$ such that $F(X) = F(Y)$; choose a functor $G \colon \mathcal A \to \Delta^1$ separating $X$ and $Y$ and form the pushout
%\[
%\xymatrix{
%\mathcal A \ar[d]_F \ar[r]^G & \Delta^1 \ar[d] \\ \mathcal B \ar[r] & \mathcal C
%}
%\]
%Then the functor $\Delta^1 \to \mathcal C$ is again a cofibration and sends the two objects of $\Delta^1$ to the same object in $\mathcal C$. Let now $\mathcal C^\delta$ be the free connected groupoid generated by the objects of $\mathcal C$; we clearly have a unique functor $\mathcal C \to \mathcal C^\delta$ which is the identity on objects. This functor is a canonical cofibration, hence it is also a cofibration (cfr. the proof of Lemma \ref{cor uniqueness 3}). It follows that the map $\Delta^1 \to \mathcal C^\delta$ is a cofibration. But now we clearly have a retraction diagram
%\[
%\xymatrix{
%\Delta^1 \ar[r]^{\mathrm{id}} \ar[d] & \Delta^1 \ar[r]^{\mathrm{id}} \ar[d] & \Delta^1 \ar[d] \\ \mathbf 1 \ar[r] & \mathcal C^\delta \ar[r] & \mathbf 1
%}
%\]
%which concludes the proof.
%\end{proof}
%
%\begin{lemma} \label{lemma uniqueness 5}
%If the cofibrations contain the map $\Delta^1 \to \mathbf 1$, then every fibrant object is gaunt (that is, every isomorphism is an identity).
%\end{lemma}
%
%\begin{proof}
%The map $\Delta^1 \to \mathbf 1$ is a weak equivalence. Therefore, the RLP of fibrations with respect to acyclic cofibrations concludes.
%\end{proof}
%
%Now we are ready to prove the main theorem:
%
%\begin{proof}[Proof of Theorem \ref{thm uniqueness grpd}]
%Thanks to Corollary \ref{cor uniqueness 3} we only need to prove that every cofibration is a canonical cofibration. Assume this is not the case and choose a groupoid $\mathcal G$ with one object and non-trivial automorphism group. A fibrant replacement for $\mathcal G$ will be gaunt by Lemma \ref{lemma uniqueness 4} and Lemma \ref{lemma uniqueness 5}; but then $\mathcal G$ cannot be equivalent to its fibrant replacement, contradiction. The thesis follows.
%\end{proof}
%
%\subsection{Cofibrantly generated and combinatorial model categories}
%
%\begin{defin}
%A \emph{cofibrantly generated model category} is a model category $\mathcal M$ such that:
%\begin{enumerate}
%\item there exists a set $I$ of maps that permits the small objects argument and such that a map is a trivial fibration if and only if it has the RLP with respect to all the maps in $I$;
%\item there exists a set $J$ of maps that permits the small objects argument and such that a map is a fibration if and only if it has the RLP with respect to all the maps in $J$.
%\end{enumerate}
%\end{defin}
%
%\begin{defin} \label{def combinatorial}
%A \emph{combinatorial model category} is a cofibrantly generated model caetgory $\mathcal M$ which is moreover presentable.
%\end{defin}
%
%\begin{thm} \label{thm combinatorial functor cat}
%Let $\mathcal M$ be a combinatorial model category and let $\mathcal C$ be a small category. Then there exist two combinatorial model structure over $\mathcal M^{\mathcal C}$:
%\begin{itemize}
%\item the projective model structure, where weak equivalences and fibrations are defined objectwise;
%\item the injective model structure, where weak equivalences and cofibrations are defined objectwise.
%\end{itemize}
%\end{thm}
%
%\begin{proof}
%See \cite[Prop. A.2.8.2]{htt}.
%\end{proof}
%
%\subsection{Cellular Model Categories}
%
%\begin{defin}
%A \emph{cellular model category} is a cofibrantly generated model category for which there are a set of generating cofibrations $I$ and a set $J$ of generating trivial cofibrations such that
%\begin{enumerate}
%\item both the domains and the codomains of the elements of $I$ are compact;
%\item the domains of the elements of $J$ are small relative to $I$;
%\item the cofibrations are effective monomorphisms.
%\end{enumerate}
%\end{defin}
%
%\subsection{Simplicial Model Categories} \label{simplicial model categories}
%
%Simplicial model categories are well behaved for several reason: they have natural, preferred ways to construct homotopy limits and homotopy colimits, simplicial and cosimplicial resolutions. We could say that all such notions are already ``built-in'' in a simplicial model category.
%
%The following proposition shows that the situation described in the discussion at the beginning of section \ref{cosimplicial resolutions} is common to every simplicial model category:
%
%\begin{prop} \label{prop simplicial resolutions simplicial category}
%Let $\mathcal M$ be a simplicial model category. If $X$ is an object in $\mathcal M$ and $W \to X$ is a cofibrant approximation, then the cosimplicial object $\widetilde{\mathbf W}$ defined by
%\[
%\widetilde{\mathbf W}^n\coloneqq W \otimes \Delta^n
%\]
%defines a cosimplicial resolution of $\mathbf X$.
%\end{prop}
%
%\subsection{Comparison for mapping spaces}

\printbibliography[heading = local]

\end{refsection}
